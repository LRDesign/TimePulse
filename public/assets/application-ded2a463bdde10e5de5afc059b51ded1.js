/*
 * NinjaScript - 0.10
 * written by and copyright 2010-2012 Judson Lester and Logical Reality Design
 * Licensed under the MIT license
 *
 * 03-18-2012
 */
/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 0.24.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
function initialize_tabs(){$(".tabbed_panel .tab a").click(function(t){t.preventDefault(),handle_tab_click($(this))}),$.Jookie.Initialise("tab_memory",525600),$(".tabbed_panel").each(function(){pre_select_tab($(this))})}function pre_select_tab(t){tab_memory=get_tab_memory(),tab_id=tab_memory[memory_key_from_tabbed_panel(t.attr("id"))],null!=tab_id&&select_tab($("#"+tab_id))}function handle_tab_click(t){tab=t.parents("li.tab"),select_tab(tab),store_tab_preference(tab.attr("id"))}function select_tab(t){pane_id=t.attr("id").replace(/_tab$/,"_pane"),pane=$("#"+pane_id),t.removeClass("tab_unselected").addClass("tab_selected"),t.siblings().removeClass("tab_selected").addClass("tab_unselected"),pane.removeClass("pane_unselected").addClass("pane_selected"),pane.siblings().removeClass("pane_selected").addClass("pane_unselected")}function get_tabbed_panel_id(t){return t.substring(0,t.indexOf("_tp_"))}function memory_key_from_tab(t){return(location.pathname+"--"+get_tabbed_panel_id(t)).replace(/^\//,"")}function memory_key_from_tabbed_panel(t){return(location.pathname+"--"+t).replace(/^\//,"")}function store_tab_preference(t){tab_memory=get_tab_memory(),null==tab_memory&&(tab_memory=new Object),tab_memory[memory_key_from_tab(t)]=t,$.Jookie.Set("tab_memory","tab_history",tab_memory)}function get_tab_memory(){return tab_memory=$.Jookie.Get("tab_memory","tab_history"),"undefined"==typeof tab_memory&&(tab_memory={}),tab_memory}function updateInputAuthenticityToken(t){token=$('meta[name="csrf-token"]').attr("content"),token&&$(t).val(token)}function selectAllWorkUnits(){$(".work_unit_checkbox").attr("checked",!0),updateWorkUnitHoursTotal()}function showHideDropdown(){}function updateWorkUnitHoursTotal(){var t=0,e=0;$("#new_invoice tr.work_unit .hours, #new_bill tr.work_unit .hours").each(function(){$(this).siblings(".work_unit_checkbox").attr("checked")&&(t+=1*$(this).html(),e++)}),$("#work_unit_count").html(e),$("#hours_total").html(Math.round(100*t)/100)}function startClock(){$("#browsertime").html(now_sec()),setInterval("updateClock()",1e3)}function updateClock(){b_page_time=parseInt($("#browsertime").html()),s_page_time=parseInt($("#servertime").html()),task_started=parseInt($("#tasktime").html()),adjust=b_page_time-s_page_time,b_now=now_sec(),s_now=b_now-adjust,task_elapsed=s_now-task_started,task_elapsed>=0&&$("#task_elapsed").html(hhmmss_format(task_elapsed)),$("#time_debug").html("<table class='listing'>"+debug_row("Browser Time Now:",(new Date).toLocaleString())+debug_row("Browser Render:",b_page_time)+debug_row("Server Render:",s_page_time)+debug_row("Task Started (sec):",task_started)+debug_row("Task Started (time):",new Date(1e3*task_started).toLocaleString())+debug_row("Adjustment:",adjust)+debug_row("Browser Now:",b_now)+debug_row("Server Now:",s_now)+debug_row("Task Elapsed",task_elapsed)+"<table>")}function debug_row(t,e){return"<tr><th>"+t+"</th><td>"+e+"</td></tr>"}function now_sec(){return Math.round((new Date).getTime()/1e3)}function hours_format(t){return Math.floor(t/36)/100}function hhmm_format(t){return Math.floor(t/3600)+":"+zeropad(Math.floor(t/60)%60)}function hhmmss_format(t){return hhmm_format(t)+":"+zeropad(t%60)}function zeropad(t){return 10>t?"0"+t:t}function addCurrentClassToCurrentProject(){var t="#project_"+$('meta[name="current project"]').attr("content");$(t).addClass("current")}var require,define;(function(){function isFunction(t){return"[object Function]"===ostring.call(t)}function isArray(t){return"[object Array]"===ostring.call(t)}function mixin(t,e,i){for(var n in e)n in empty||n in t&&!i||(t[n]=e[n]);return req}function configurePackageDir(t,e,i){var n,s,a;for(n=0;a=e[n];n++)a="string"==typeof a?{name:a}:a,s=a.location,i&&(!s||0!==s.indexOf("/")&&-1===s.indexOf(":"))&&(s=i+"/"+(s||a.name)),t[a.name]={name:a.name,location:s||a.name,lib:a.lib||"lib",main:(a.main||"lib/main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}function newContext(contextName){function trimDots(t){var e,i;for(e=0;i=t[e];e++)if("."===i)t.splice(e,1),e-=1;else if(".."===i){if(1===e&&(".."===t[2]||".."===t[0]))break;e>0&&(t.splice(e-1,2),e-=2)}}function normalize(t,e){var i,n;return"."===t.charAt(0)&&e&&(config.pkgs[e]?e=[e]:(e=e.split("/"),e=e.slice(0,e.length-1)),t=e.concat(t.split("/")),trimDots(t),n=config.pkgs[i=t[0]],t=t.join("/"),n&&t===i+"/"+n.main&&(t=i)),t}function makeModuleMap(t,e){var i,n,s,a=t?t.indexOf("!"):-1,o=null,r=e?e.name:null,l=t;return-1!==a&&(o=t.substring(0,a),t=t.substring(a+1,t.length)),o&&(o=normalize(o,r)),t&&(o?(s=defined[o],i=s?s.normalize?s.normalize(t,function(t){return normalize(t,r)}):normalize(t,r):"__$p"+r+"@"+t):i=normalize(t,r),n=urlMap[i],n||(n=req.toModuleUrl?req.toModuleUrl(context,t,e):context.nameToUrl(t,null,e),urlMap[i]=n)),{prefix:o,name:i,parentMap:e,url:n,originalName:l,fullName:o?o+"!"+i:i}}function isPriorityDone(){var t,e,i=!0,n=config.priorityWait;if(n){for(e=0;t=n[e];e++)if(!loaded[t]){i=!1;break}i&&delete config.priorityWait}return i}function makeSetExports(t){return function(e){t.exports=e}}function makeContextModuleFunc(t,e,i){return function(){var n,s=[].concat(aps.call(arguments,0));return i&&isFunction(n=s[s.length-1])&&(n.__requireJsBuild=!0),s.push(e),t.apply(null,s)}}function makeRequire(t,e){var i=makeContextModuleFunc(context.require,t,e);return mixin(i,{nameToUrl:makeContextModuleFunc(context.nameToUrl,t),toUrl:makeContextModuleFunc(context.toUrl,t),isDefined:makeContextModuleFunc(context.isDefined,t),ready:req.ready,isBrowser:req.isBrowser}),req.paths&&(i.paths=req.paths),i}function updateNormalizedNames(t){var e,i,n,s,a,o,r,l,c,u,d=normalizedWaiting[t];if(d)for(o=0;i=d[o];o++)if(e=i.fullName,n=makeModuleMap(i.originalName,i.parentMap),s=n.fullName,a=managerCallbacks[e]||[],u=managerCallbacks[s],s!==e){e in specified&&(delete specified[e],specified[s]=!0),managerCallbacks[s]=u?u.concat(a):a,delete managerCallbacks[e];for(r=0;a.length>r;r++)for(c=a[r].depArray,l=0;c.length>l;l++)c[l]===e&&(c[l]=s)}delete normalizedWaiting[t]}function queueDependency(t){var e=t.prefix,i=t.fullName;specified[i]||i in defined||(e&&!plugins[e]&&(plugins[e]=void 0,(normalizedWaiting[e]||(normalizedWaiting[e]=[])).push(t),(managerCallbacks[e]||(managerCallbacks[e]=[])).push({onDep:function(t){t===e&&updateNormalizedNames(e)}}),queueDependency(makeModuleMap(e))),context.paused.push(t))}function execManager(t){var e,i,n,s=t.callback,a=t.fullName,o=[],r=t.depArray;if(s&&isFunction(s)){if(r)for(e=0;r.length>e;e++)o.push(t.deps[r[e]]);if(i=req.execCb(a,t.callback,o),a)if(!t.usingExports||void 0!==i||t.cjsModule&&"exports"in t.cjsModule)if(t.cjsModule&&"exports"in t.cjsModule)i=defined[a]=t.cjsModule.exports;else{if(a in defined&&!t.usingExports)return req.onError(new Error(a+" has already been defined"));defined[a]=i}else i=defined[a]}else a&&(i=defined[a]=s);if(a&&(n=managerCallbacks[a])){for(e=0;n.length>e;e++)n[e].onDep(a,i);delete managerCallbacks[a]}return waiting[t.waitId]&&(delete waiting[t.waitId],t.isDone=!0,context.waitCount-=1,0===context.waitCount&&(waitAry=[])),void 0}function main(t,e,i,n){var s,a,o,r,l=makeModuleMap(t,n),c=l.name,u=l.fullName,d={},h={waitId:c||reqWaitIdPrefix+waitIdCounter++,depCount:0,depMax:0,prefix:l.prefix,name:c,fullName:u,deps:{},depArray:e,callback:i,onDep:function(t,e){t in h.deps||(h.deps[t]=e,h.depCount+=1,h.depCount===h.depMax&&execManager(h))}};if(u){if(u in defined||loaded[u]===!0)return;specified[u]=!0,loaded[u]=!0,context.jQueryDef="jquery"===u}for(s=0;e.length>s;s++)a=e[s],a&&(a=makeModuleMap(a,c?l:n),o=a.fullName,e[s]=o,"require"===o?h.deps[o]=makeRequire(l):"exports"===o?(h.deps[o]=defined[u]={},h.usingExports=!0):"module"===o?(h.cjsModule=r=h.deps[o]={id:c,uri:c?context.nameToUrl(c,null,n):void 0},r.setExports=makeSetExports(r)):o in defined&&!(o in waiting)?h.deps[o]=defined[o]:d[o]||(h.depMax+=1,queueDependency(a),(managerCallbacks[o]||(managerCallbacks[o]=[])).push(h),d[o]=!0));h.depCount===h.depMax?execManager(h):(waiting[h.waitId]=h,waitAry.push(h),context.waitCount+=1)}function callDefMain(t){main.apply(null,t),loaded[t[0]]=!0}function jQueryCheck(t){if(!context.jQuery){var e=t||("undefined"!=typeof jQuery?jQuery:null);e&&"readyWait"in e&&(context.jQuery=e,callDefMain(["jquery",[],function(){return jQuery}]),context.scriptCount&&(e.readyWait+=1,context.jQueryIncremented=!0))}}function forceExec(t,e){if(t.isDone)return void 0;var i,n,s=t.fullName,a=t.depArray;if(s){if(e[s])return defined[s];e[s]=!0}for(n=0;a.length>n;n++)i=a[n],i&&!t.deps[i]&&waiting[i]&&t.onDep(i,forceExec(waiting[i],e));return s?defined[s]:void 0}function checkLoaded(){var t,e,n,s=1e3*config.waitSeconds,a=s&&context.startTime+s<(new Date).getTime(),o="",r=!1,l=!1;if(context.pausedCount>0)return void 0;if(config.priorityWait){if(!isPriorityDone())return void 0;resume()}for(t in loaded)if(!(t in empty||(r=!0,loaded[t]))){if(!a){l=!0;break}o+=t+" "}if(!r&&!context.waitCount)return void 0;if(a&&o)return e=new Error("require.js load timeout for modules: "+o),e.requireType="timeout",e.requireModules=o,req.onError(e);if(l||context.scriptCount)return(isBrowser||isWebWorker)&&setTimeout(checkLoaded,50),void 0;if(context.waitCount){for(i=0;n=waitAry[i];i++)forceExec(n,{});return checkLoaded(),void 0}return req.checkReadyState(),void 0}function callPlugin(pluginName,dep){var name=dep.name,fullName=dep.fullName,load;fullName in defined||fullName in loaded||(plugins[pluginName]||(plugins[pluginName]=defined[pluginName]),loaded[fullName]||(loaded[fullName]=!1),load=function(t){require.onPluginLoad&&require.onPluginLoad(context,pluginName,name,t),execManager({prefix:dep.prefix,name:dep.name,fullName:dep.fullName,callback:function(){return t}}),loaded[fullName]=!0},load.fromText=function(moduleName,text){var hasInteractive=useInteractive;context.loaded[moduleName]=!1,context.scriptCount+=1,hasInteractive&&(useInteractive=!1),eval(text),hasInteractive&&(useInteractive=!0),context.completeLoad(moduleName)},plugins[pluginName].load(name,makeRequire(dep.parentMap,!0),load,config))}function loadPaused(t){t.prefix&&0===t.name.indexOf("__$p")&&defined[t.prefix]&&(t=makeModuleMap(t.originalName,t.parentMap));var e=t.prefix,i=t.fullName;specified[i]||loaded[i]||(specified[i]=!0,e?defined[e]?callPlugin(e,t):(pluginsQueue[e]||(pluginsQueue[e]=[],(managerCallbacks[e]||(managerCallbacks[e]=[])).push({onDep:function(t){if(t===e){var i,n,s=pluginsQueue[e];for(i=0;s.length>i;i++)n=s[i],callPlugin(e,makeModuleMap(n.originalName,n.parentMap));delete pluginsQueue[e]}}})),pluginsQueue[e].push(t)):req.load(context,i,t.url))}var context,resume,config={waitSeconds:7,baseUrl:s.baseUrl||"./",paths:{},pkgs:{}},defQueue=[],specified={require:!0,exports:!0,module:!0},urlMap={},defined={},loaded={},waiting={},waitAry=[],waitIdCounter=0,managerCallbacks={},plugins={},pluginsQueue={},resumeDepth=0,normalizedWaiting={};return resume=function(){var t,e,i;for(resumeDepth+=1,0>=context.scriptCount&&(context.scriptCount=0);defQueue.length;){if(t=defQueue.shift(),null===t[0])return req.onError(new Error("Mismatched anonymous require.def modules"));callDefMain(t)}if(!config.priorityWait||isPriorityDone())for(;context.paused.length;){for(i=context.paused,context.pausedCount+=i.length,context.paused=[],e=0;t=i[e];e++)loadPaused(t);context.startTime=(new Date).getTime(),context.pausedCount-=i.length}return 1===resumeDepth&&checkLoaded(),resumeDepth-=1,void 0},context={contextName:contextName,config:config,defQueue:defQueue,waiting:waiting,waitCount:0,specified:specified,loaded:loaded,urlMap:urlMap,scriptCount:0,urlFetched:{},defined:defined,paused:[],pausedCount:0,plugins:plugins,managerCallbacks:managerCallbacks,makeModuleMap:makeModuleMap,normalize:normalize,configure:function(t){var e,i,n,s,a,o;if(t.baseUrl&&"/"!==t.baseUrl.charAt(t.baseUrl.length-1)&&(t.baseUrl+="/"),e=config.paths,n=config.packages,s=config.pkgs,mixin(config,t,!0),t.paths){for(i in t.paths)i in empty||(e[i]=t.paths[i]);config.paths=e}if(a=t.packagePaths,a||t.packages){if(a)for(i in a)i in empty||configurePackageDir(s,a[i],i);t.packages&&configurePackageDir(s,t.packages),config.pkgs=s}t.priority&&(o=context.requireWait,context.requireWait=!1,context.takeGlobalQueue(),resume(),context.require(t.priority),resume(),context.requireWait=o,config.priorityWait=t.priority),(t.deps||t.callback)&&context.require(t.deps||[],t.callback),t.ready&&req.ready(t.ready)},isDefined:function(t,e){return makeModuleMap(t,e).fullName in defined},require:function(t,e,i){var n,s,a;if("string"==typeof t)return req.get?req.get(context,t,e):(n=t,i=e,a=makeModuleMap(n,i),s=defined[a.fullName],void 0===s?req.onError(new Error("require: module name '"+a.fullName+"' has not been loaded yet for context: "+contextName)):s);if(main(null,t,e,i),!context.requireWait)for(;!context.scriptCount&&context.paused.length;)resume();return void 0},takeGlobalQueue:function(){globalDefQueue.length&&(apsp.apply(context.defQueue,[context.defQueue.length-1,0].concat(globalDefQueue)),globalDefQueue=[])},completeLoad:function(t){var e;for(context.takeGlobalQueue();defQueue.length;){if(e=defQueue.shift(),null===e[0]){e[0]=t;break}if(e[0]===t)break;callDefMain(e),e=null}e?callDefMain(e):callDefMain([t,[],"jquery"===t&&"undefined"!=typeof jQuery?function(){return jQuery}:null]),loaded[t]=!0,jQueryCheck(),req.isAsync&&(context.scriptCount-=1),resume(),req.isAsync||(context.scriptCount-=1)},toUrl:function(t,e){var i=t.lastIndexOf("."),n=null;return-1!==i&&(n=t.substring(i,t.length),t=t.substring(0,i)),context.nameToUrl(t,n,e)},nameToUrl:function(t,e,i){var n,s,a,o,r,l,c,u,d=context.config;if(0===t.indexOf("./")||0===t.indexOf("../"))r=i&&i.url?i.url.split("/"):[],r.length&&r.pop(),r=r.concat(t.split("/")),trimDots(r),u=r.join("/")+(e?e:req.jsExtRegExp.test(t)?"":".js");else if(t=normalize(t,i),req.jsExtRegExp.test(t))u=t+(e?e:"");else{for(n=d.paths,s=d.pkgs,r=t.split("/"),l=r.length;l>0;l--){if(c=r.slice(0,l).join("/"),n[c]){r.splice(0,l,n[c]);break}if(a=s[c]){o=t===a.name?a.location+"/"+a.main:a.location+"/"+a.lib,r.splice(0,l,o);break}}u=r.join("/")+(e||".js"),u=("/"===u.charAt(0)||u.match(/^\w+:/)?"":d.baseUrl)+u}return d.urlArgs?u+((-1===u.indexOf("?")?"?":"&")+d.urlArgs):u}},context.jQueryCheck=jQueryCheck,context.resume=resume,context}function getInteractiveScript(){var t,e,i;if(interactiveScript&&"interactive"===interactiveScript.readyState)return interactiveScript;for(t=document.getElementsByTagName("script"),e=t.length-1;e>-1&&(i=t[e]);e--)if("interactive"===i.readyState)return interactiveScript=i;return null}var version="0.24.0",commentRegExp=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/gm,cjsRequireRegExp=/require\(["']([^'"\s]+)["']\)/g,currDirRegExp=/^\.\//,jsSuffixRegExp=/\.js$/,ostring=Object.prototype.toString,ap=Array.prototype,aps=ap.slice,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),reqWaitIdPrefix="_r@@",empty={},contexts={},globalDefQueue=[],interactiveScript=null,isDone=!1,useInteractive=!1,req,cfg={},currentlyAddingScript,s,head,baseElement,scripts,script,src,subPath,mainScript,dataMain,i,scrollIntervalId,setReadyState,ctx;if("undefined"!=typeof require){if(isFunction(require))return;cfg=require}if(req=require=function(t,e){var i,n,s=defContextName;return isArray(t)||"string"==typeof t||(n=t,isArray(e)?(t=e,e=arguments[2]):t=[]),n&&n.context&&(s=n.context),i=contexts[s]||(contexts[s]=newContext(s)),n&&i.configure(n),i.require(t,e)},req.version=version,req.isArray=isArray,req.isFunction=isFunction,req.mixin=mixin,req.jsExtRegExp=/^\/|:|\?|\.js$/,s=req.s={contexts:contexts,skipAsync:{},isPageLoaded:!isBrowser,readyCalls:[]},req.isAsync=req.isBrowser=isBrowser,isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=function(t){throw t},req.load=function(t,e,i){var n=t.contextName,s=t.urlFetched,a=t.loaded;isDone=!1,a[e]||(a[e]=!1),s[i]||(t.scriptCount+=1,req.attach(i,n,e),s[i]=!0,t.jQuery&&!t.jQueryIncremented&&(t.jQuery.readyWait+=1,t.jQueryIncremented=!0))},define=req.def=function(t,e,i){var n,s;if("string"!=typeof t&&(i=e,e=t,t=null),req.isArray(e)||(i=e,e=[]),t||e.length||!req.isFunction(i)||i.length&&(i.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(t,i){e.push(i)}),e=["require","exports","module"].concat(e)),useInteractive){if(n=currentlyAddingScript||getInteractiveScript(),!n)return req.onError(new Error("ERROR: No matching script interactive for "+i));t||(t=n.getAttribute("data-requiremodule")),s=contexts[n.getAttribute("data-requirecontext")]}return(s?s.defQueue:globalDefQueue).push([t,e,i]),void 0},define.amd={multiversion:!0,plugins:!0},req.execCb=function(t,e,i){return e.apply(null,i)},req.onScriptLoad=function(t){var e,i,n,s=t.currentTarget||t.srcElement;("load"===t.type||readyRegExp.test(s.readyState))&&(interactiveScript=null,e=s.getAttribute("data-requirecontext"),i=s.getAttribute("data-requiremodule"),n=contexts[e],contexts[e].completeLoad(i),s.detachEvent&&!isOpera?s.detachEvent("onreadystatechange",req.onScriptLoad):s.removeEventListener("load",req.onScriptLoad,!1))},req.attach=function(t,e,i,n,a){var o,r,l;return isBrowser?(n=n||req.onScriptLoad,o=document.createElement("script"),o.type=a||"text/javascript",o.charset="utf-8",o.async=!s.skipAsync[t],o.setAttribute("data-requirecontext",e),o.setAttribute("data-requiremodule",i),o.attachEvent&&!isOpera?(useInteractive=!0,o.attachEvent("onreadystatechange",n)):o.addEventListener("load",n,!1),o.src=t,currentlyAddingScript=o,baseElement?head.insertBefore(o,baseElement):head.appendChild(o),currentlyAddingScript=null,o):(isWebWorker&&(l=contexts[e],r=l.loaded,r[i]=!1,importScripts(t),l.completeLoad(i)),null)},isBrowser)for(scripts=document.getElementsByTagName("script"),i=scripts.length-1;i>-1&&(script=scripts[i]);i--)if(head||(head=script.parentNode),dataMain=script.getAttribute("data-main")){cfg.baseUrl||(src=dataMain.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath,dataMain=mainScript.replace(jsSuffixRegExp,"")),cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain];break}s.baseUrl=cfg.baseUrl,req.pageLoaded=function(){s.isPageLoaded||(s.isPageLoaded=!0,scrollIntervalId&&clearInterval(scrollIntervalId),setReadyState&&(document.readyState="complete"),req.callReady())},req.checkReadyState=function(){var t,e=s.contexts;for(t in e)if(!(t in empty)&&e[t].waitCount)return;s.isDone=!0,req.callReady()},req.callReady=function(){var t,e,i,n,a,o=s.readyCalls;if(s.isPageLoaded&&s.isDone){if(o.length)for(s.readyCalls=[],t=0;e=o[t];t++)e();i=s.contexts;for(a in i)a in empty||(n=i[a],n.jQueryIncremented&&(n.jQuery.ready(!0),n.jQueryIncremented=!1))}},req.ready=function(t){return s.isPageLoaded&&s.isDone?t():s.readyCalls.push(t),req},isBrowser&&(document.addEventListener?(document.addEventListener("DOMContentLoaded",req.pageLoaded,!1),window.addEventListener("load",req.pageLoaded,!1),document.readyState||(setReadyState=!0,document.readyState="loading")):window.attachEvent&&(window.attachEvent("onload",req.pageLoaded),self===self.top&&(scrollIntervalId=setInterval(function(){try{document.body&&(document.documentElement.doScroll("left"),req.pageLoaded())}catch(t){}},30))),"complete"===document.readyState&&req.pageLoaded()),req(cfg),req.isAsync&&"undefined"!=typeof setTimeout&&(ctx=s.contexts[cfg.context||defContextName],ctx.requireWait=!0,setTimeout(function(){ctx.requireWait=!1,ctx.takeGlobalQueue(),ctx.jQueryCheck(),ctx.scriptCount||ctx.resume(),req.checkReadyState()},0))})(),define("utils",["require","exports","module"],function(){function t(){this.log_function=null}t.prototype={log:function(t){this.log_function(t)},active_logging:function(t){try{console.log(t)}catch(e){}},inactive_logging:function(){},disactivate_logging:function(){this.log_function=this.inactive_logging},activate_logging:function(){this.log_function=this.active_logging},isArray:function(t){return t.constructor==Array},forEach:function(t,e,i){if("function"==typeof t.forEach)return t.forEach(e,i);if("function"==typeof Array.prototype.forEach)return Array.prototype.forEach.call(t,e,i);for(var n=Number(t.length),s=0;n>s;s+=1)"undefined"!=typeof t[s]&&e.call(i,t[s],s,t)}};var e=new t;return"undefined"==typeof NINJASCRIPT_DEBUGGING?e.disactivate_logging():e.activate_logging(),e}),define("ninja/exceptions",["require","exports","module"],function(){function t(t){var e=function(e){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=t,this.message=e};return e.prototype=Error.prototype,e}return{CouldntChoose:t("CouldntChoose"),TransformFailed:t("TransformFailed")}}),define("ninja/behaviors",["ninja/exceptions"],function(t){var e=t.CouldntChoose,i={};return i.meta=function(t,e){t(this),this.chooser=e},i.meta.prototype={choose:function(t){var i=this.chooser(t);if(void 0!==i)return i.choose(t);throw new e("Couldn't choose behavior for ".element.toString())}},i.select=function(t){this.menu=t},i.select.prototype={choose:function(t){for(var e in this.menu)if(jQuery(t).is(e))return this.menu[e].choose(t);return null}},i.base=function(t){return this.helpers={},this.eventHandlers=[],this.lexicalOrder=0,this.priority=0,"function"==typeof t.transform&&(this.transform=t.transform,delete t.transform),"undefined"!=typeof t.helpers&&(this.helpers=t.helpers,delete t.helpers),"undefined"!=typeof t.priority&&(this.priority=t.priority),delete t.priority,this.eventHandlers="undefined"!=typeof t.events?t.events:t,this},i.base.prototype={apply:function(t){var e=this.inContext({});return t=this.applyTransform(e,t),jQuery(t).data("ninja-visited",e),this.applyEventHandlers(e,t),t},priority:function(t){return this.priority=t,this},choose:function(){return this},inContext:function(t){function e(){}return e.prototype=t,Ninja.tools.enrich(new e,this.helpers)},applyTransform:function(t,e){var i=e,n=this.transform.call(t,e);return void 0===n?i:n},applyEventHandlers:function(t,e){for(var i in this.eventHandlers){var n=this.eventHandlers[i];jQuery(e).bind(i,this.makeHandler.call(t,n))}return e},recordEventHandlers:function(t,e){for(var i in this.eventHandlers)t.recordHandler(this,i,function(t){return this.makeHandler.call(e,this.eventHandlers[i],t)})},buildHandler:function(t,e,i){var n,s=!0,a=!0,o=!0,r=!1,l=!1,c=this.eventHandlers[e];if("function"==typeof c)n=c;else{n=c[0],c=c.slice(1,c.length);for(var u=c.length,d=0;u>d;d++){var h=!0;("dontContinue"==c[d]||"overridesOthers"==c[d])&&(s=!1),("andDoDefault"==c[d]||"continues"==c[d]||"allowDefault"==c[d])&&(a=!1),("allowPropagate"==c[d]||"dontStopPropagation"==c[d])&&(o=!1),"andDoOthers"==c[d]&&(r=!1),"changesDOM"==c[d]&&(l=!0),h||console.log("Event handler modifier unrecognized: "+c[d])}}var f=function(){var e=Array.prototype.shift.call(arguments);return Array.prototype.unshift.call(arguments,this),Array.prototype.unshift.call(arguments,e),n.apply(t,arguments),e.isFallthroughPrevented()||i.apply(t,arguments),a?!1:!e.isDefaultPrevented()};return s||(f=this.prependAction(f,function(t){t.preventFallthrough()})),a&&(f=this.prependAction(f,function(t){t.preventDefault()})),o&&(f=this.prependAction(f,function(t){t.stopPropagation()})),r&&(f=this.prependAction(f,function(t){t.stopImmediatePropagation()})),l&&(f=this.appendAction(f,function(){Ninja.tools.fireMutationEvent()})),f=this.prependAction(f,function(t){t.isFallthroughPrevented=function(){return!1},t.preventFallthrough=function(){t.isFallthroughPrevented=function(){return!0}}})},prependAction:function(t,e){return function(){return e.apply(this,arguments),t.apply(this,arguments)}},appendAction:function(t,e){return function(){var i=t.apply(this,arguments);return e.apply(this,arguments),i}},transform:function(t){return t}},i}),define("sizzle-1.0",["require","exports","module"],function(){function t(e){for(var i,n="",s=0;e[s];s++)i=e[s],3===i.nodeType||4===i.nodeType?n+=i.nodeValue:8!==i.nodeType&&(n+=t(i.childNodes));return n}function e(t,e,i,n,s,a){for(var o=0,r=n.length;r>o;o++){var l=n[o];if(l){l=l[t];for(var c=!1;l;){if(l.sizcache===i){c=n[l.sizset];break}if(1!==l.nodeType||a||(l.sizcache=i,l.sizset=o),l.nodeName.toLowerCase()===e){c=l;break}l=l[t]}n[o]=c}}}function i(t,e,i,n,s,a){for(var o=0,r=n.length;r>o;o++){var c=n[o];if(c){c=c[t];for(var u=!1;c;){if(c.sizcache===i){u=n[c.sizset];break}if(1===c.nodeType)if(a||(c.sizcache=i,c.sizset=o),"string"!=typeof e){if(c===e){u=!0;break}}else if(l.filter(e,[c]).length>0){u=c;break}c=c[t]}n[o]=u}}}/*
     * Sizzle CSS engine
     * Copyright 2009 The Dojo Foundation
     * Released under the MIT, BSD, and GPL Licenses.
     *
     * This version of the Sizzle engine taken from jQuery 1.4.2
     * Doesn't conflict with Mutation events.
     */
var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,s=0,a=Object.prototype.toString,o=!1,r=!0;[0,0].sort(function(){return r=!1,0});var l=function(t,e,i,s){i=i||[];var o=e=e||document;if(1!==e.nodeType&&9!==e.nodeType)return[];if(!t||"string"!=typeof t)return i;for(var r,d,f,p,_=[],b=!0,y=g(e),x=t;n.exec(""),null!==(r=n.exec(x));)if(x=r[3],_.push(r[1]),r[2]){p=r[3];break}if(_.length>1&&u.exec(t))if(2===_.length&&c.relative[_[0]])d=v(_[0]+_[1],e);else for(d=c.relative[_[0]]?[e]:l(_.shift(),e);_.length;)t=_.shift(),c.relative[t]&&(t+=_.shift()),d=v(t,d);else{if(!s&&_.length>1&&9===e.nodeType&&!y&&c.match.ID.test(_[0])&&!c.match.ID.test(_[_.length-1])){var k=l.find(_.shift(),e,y);e=k.expr?l.filter(k.expr,k.set)[0]:k.set[0]}if(e){var k=s?{expr:_.pop(),set:h(s)}:l.find(_.pop(),1!==_.length||"~"!==_[0]&&"+"!==_[0]||!e.parentNode?e:e.parentNode,y);for(d=k.expr?l.filter(k.expr,k.set):k.set,_.length>0?f=h(d):b=!1;_.length;){var w=_.pop(),C=w;c.relative[w]?C=_.pop():w="",null==C&&(C=e),c.relative[w](f,C,y)}}else f=_=[]}if(f||(f=d),f||l.error(w||t),"[object Array]"===a.call(f))if(b)if(e&&1===e.nodeType)for(var T=0;null!=f[T];T++)f[T]&&(f[T]===!0||1===f[T].nodeType&&m(e,f[T]))&&i.push(d[T]);else for(var T=0;null!=f[T];T++)f[T]&&1===f[T].nodeType&&i.push(d[T]);else i.push.apply(i,f);else h(f,i);return p&&(l(p,o,i,s),l.uniqueSort(i)),i};l.uniqueSort=function(t){if(p&&(o=r,t.sort(p),o))for(var e=1;t.length>e;e++)t[e]===t[e-1]&&t.splice(e--,1);return t},l.matches=function(t,e){return l(t,null,null,e)},l.find=function(t,e,i){var n,s;if(!t)return[];for(var a=0,o=c.order.length;o>a;a++){var s,r=c.order[a];if(s=c.leftMatch[r].exec(t)){var l=s[1];if(s.splice(1,1),"\\"!==l.substr(l.length-1)&&(s[1]=(s[1]||"").replace(/\\/g,""),n=c.find[r](s,e,i),null!=n)){t=t.replace(c.match[r],"");break}}}return n||(n=e.getElementsByTagName("*")),{set:n,expr:t}},l.filter=function(t,e,i,n){for(var s,a,o=t,r=[],u=e,d=e&&e[0]&&g(e[0]);t&&e.length;){for(var h in c.filter)if(null!=(s=c.leftMatch[h].exec(t))&&s[2]){var f,p,m=c.filter[h],v=s[1];if(a=!1,s.splice(1,1),"\\"===v.substr(v.length-1))continue;if(u===r&&(r=[]),c.preFilter[h])if(s=c.preFilter[h](s,u,i,r,n,d)){if(s===!0)continue}else a=f=!0;if(s)for(var _=0;null!=(p=u[_]);_++)if(p){f=m(p,s,_,u);var b=n^!!f;i&&null!=f?b?a=!0:u[_]=!1:b&&(r.push(p),a=!0)}if(void 0!==f){if(i||(u=r),t=t.replace(c.match[h],""),!a)return[];break}}if(t===o){if(null!=a)break;l.error(t)}o=t}return u},l.error=function(t){throw"Syntax error, unrecognized expression: "+t};var c=l.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")}},relative:{"+":function(t,e){var i="string"==typeof e,n=i&&!/\W/.test(e),s=i&&!n;n&&(e=e.toLowerCase());for(var a,o=0,r=t.length;r>o;o++)if(a=t[o]){for(;(a=a.previousSibling)&&1!==a.nodeType;);t[o]=s||a&&a.nodeName.toLowerCase()===e?a||!1:a===e}s&&l.filter(e,t,!0)},">":function(t,e){var i="string"==typeof e;if(i&&!/\W/.test(e)){e=e.toLowerCase();for(var n=0,s=t.length;s>n;n++){var a=t[n];if(a){var o=a.parentNode;t[n]=o.nodeName.toLowerCase()===e?o:!1}}}else{for(var n=0,s=t.length;s>n;n++){var a=t[n];a&&(t[n]=i?a.parentNode:a.parentNode===e)}i&&l.filter(e,t,!0)}},"":function(t,n,a){var o=s++,r=i;if("string"==typeof n&&!/\W/.test(n)){var l=n=n.toLowerCase();r=e}r("parentNode",n,o,t,l,a)},"~":function(t,n,a){var o=s++,r=i;if("string"==typeof n&&!/\W/.test(n)){var l=n=n.toLowerCase();r=e}r("previousSibling",n,o,t,l,a)}},find:{ID:function(t,e,i){if("undefined"!=typeof e.getElementById&&!i){var n=e.getElementById(t[1]);return n?[n]:[]}},NAME:function(t,e){if("undefined"!=typeof e.getElementsByName){for(var i=[],n=e.getElementsByName(t[1]),s=0,a=n.length;a>s;s++)n[s].getAttribute("name")===t[1]&&i.push(n[s]);return 0===i.length?null:i}},TAG:function(t,e){return e.getElementsByTagName(t[1])}},preFilter:{CLASS:function(t,e,i,n,s,a){if(t=" "+t[1].replace(/\\/g,"")+" ",a)return t;for(var o,r=0;null!=(o=e[r]);r++)o&&(s^(o.className&&(" "+o.className+" ").replace(/[\t\n]/g," ").indexOf(t)>=0)?i||n.push(o):i&&(e[r]=!1));return!1},ID:function(t){return t[1].replace(/\\/g,"")},TAG:function(t){return t[1].toLowerCase()},CHILD:function(t){if("nth"===t[1]){var e=/(-?)(\d*)n((?:\+|-)?\d*)/.exec("even"===t[2]&&"2n"||"odd"===t[2]&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=e[1]+(e[2]||1)-0,t[3]=e[3]-0}return t[0]=s++,t},ATTR:function(t,e,i,n,s,a){var o=t[1].replace(/\\/g,"");return!a&&c.attrMap[o]&&(t[1]=c.attrMap[o]),"~="===t[2]&&(t[4]=" "+t[4]+" "),t},PSEUDO:function(t,e,i,s,a){if("not"===t[1]){if(!((n.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var o=l.filter(t[3],e,i,!0^a);return i||s.push.apply(s,o),!1}t[3]=l(t[3],null,null,e)}else if(c.match.POS.test(t[0])||c.match.CHILD.test(t[0]))return!0;return t},POS:function(t){return t.unshift(!0),t}},filters:{enabled:function(t){return t.disabled===!1&&"hidden"!==t.type},disabled:function(t){return t.disabled===!0},checked:function(t){return t.checked===!0},selected:function(t){return t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,e,i){return!!l(i[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){return"text"===t.type},radio:function(t){return"radio"===t.type},checkbox:function(t){return"checkbox"===t.type},file:function(t){return"file"===t.type},password:function(t){return"password"===t.type},submit:function(t){return"submit"===t.type},image:function(t){return"image"===t.type},reset:function(t){return"reset"===t.type},button:function(t){return"button"===t.type||"button"===t.nodeName.toLowerCase()},input:function(t){return/input|select|textarea|button/i.test(t.nodeName)}},setFilters:{first:function(t,e){return 0===e},last:function(t,e,i,n){return e===n.length-1},even:function(t,e){return 0===e%2},odd:function(t,e){return 1===e%2},lt:function(t,e,i){return i[3]-0>e},gt:function(t,e,i){return e>i[3]-0},nth:function(t,e,i){return i[3]-0===e},eq:function(t,e,i){return i[3]-0===e}},filter:{PSEUDO:function(e,i,n,s){var a=i[1],o=c.filters[a];if(o)return o(e,n,i,s);if("contains"===a)return(e.textContent||e.innerText||t([e])||"").indexOf(i[3])>=0;if("not"===a){for(var r=i[3],n=0,u=r.length;u>n;n++)if(r[n]===e)return!1;return!0}l.error("Syntax error, unrecognized expression: "+a)},CHILD:function(t,e){var i=e[1],n=t;switch(i){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===i)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0;case"nth":var s=e[2],a=e[3];if(1===s&&0===a)return!0;var o=e[0],r=t.parentNode;if(r&&(r.sizcache!==o||!t.nodeIndex)){var l=0;for(n=r.firstChild;n;n=n.nextSibling)1===n.nodeType&&(n.nodeIndex=++l);r.sizcache=o}var c=t.nodeIndex-a;return 0===s?0===c:0===c%s&&c/s>=0}},ID:function(t,e){return 1===t.nodeType&&t.getAttribute("id")===e},TAG:function(t,e){return"*"===e&&1===t.nodeType||t.nodeName.toLowerCase()===e},CLASS:function(t,e){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(t,e){var i=e[1],n=c.attrHandle[i]?c.attrHandle[i](t):null!=t[i]?t[i]:t.getAttribute(i),s=n+"",a=e[2],o=e[4];return null==n?"!="===a:"="===a?s===o:"*="===a?s.indexOf(o)>=0:"~="===a?(" "+s+" ").indexOf(o)>=0:o?"!="===a?s!==o:"^="===a?0===s.indexOf(o):"$="===a?s.substr(s.length-o.length)===o:"|="===a?s===o||s.substr(0,o.length+1)===o+"-":!1:s&&n!==!1},POS:function(t,e,i,n){var s=e[2],a=c.setFilters[s];return a?a(t,i,e,n):void 0}}},u=c.match.POS;for(var d in c.match)c.match[d]=new RegExp(c.match[d].source+/(?![^\[]*\])(?![^\(]*\))/.source),c.leftMatch[d]=new RegExp(/(^(?:.|\r|\n)*?)/.source+c.match[d].source.replace(/\\(\d+)/g,function(t,e){return"\\"+(e-0+1)}));var h=function(t,e){return t=Array.prototype.slice.call(t,0),e?(e.push.apply(e,t),e):t};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(f){h=function(t,e){var i=e||[];if("[object Array]"===a.call(t))Array.prototype.push.apply(i,t);else if("number"==typeof t.length)for(var n=0,s=t.length;s>n;n++)i.push(t[n]);else for(var n=0;t[n];n++)i.push(t[n]);return i}}var p;document.documentElement.compareDocumentPosition?p=function(t,e){if(!t.compareDocumentPosition||!e.compareDocumentPosition)return t==e&&(o=!0),t.compareDocumentPosition?-1:1;var i=4&t.compareDocumentPosition(e)?-1:t===e?0:1;return 0===i&&(o=!0),i}:"sourceIndex"in document.documentElement?p=function(t,e){if(!t.sourceIndex||!e.sourceIndex)return t==e&&(o=!0),t.sourceIndex?-1:1;var i=t.sourceIndex-e.sourceIndex;return 0===i&&(o=!0),i}:document.createRange&&(p=function(t,e){if(!t.ownerDocument||!e.ownerDocument)return t==e&&(o=!0),t.ownerDocument?-1:1;var i=t.ownerDocument.createRange(),n=e.ownerDocument.createRange();i.setStart(t,0),i.setEnd(t,0),n.setStart(e,0),n.setEnd(e,0);var s=i.compareBoundaryPoints(Range.START_TO_END,n);return 0===s&&(o=!0),s}),function(){var t=document.createElement("div"),e="script"+(new Date).getTime();t.innerHTML="<a name='"+e+"'/>";var i=document.documentElement;i.insertBefore(t,i.firstChild),document.getElementById(e)&&(c.find.ID=function(t,e,i){if("undefined"!=typeof e.getElementById&&!i){var n=e.getElementById(t[1]);return n?n.id===t[1]||"undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id").nodeValue===t[1]?[n]:void 0:[]}},c.filter.ID=function(t,e){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return 1===t.nodeType&&i&&i.nodeValue===e}),i.removeChild(t),i=t=null}(),function(){var t=document.createElement("div");t.appendChild(document.createComment("")),t.getElementsByTagName("*").length>0&&(c.find.TAG=function(t,e){var i=e.getElementsByTagName(t[1]);if("*"===t[1]){for(var n=[],s=0;i[s];s++)1===i[s].nodeType&&n.push(i[s]);i=n}return i}),t.innerHTML="<a href='#'></a>",t.firstChild&&"undefined"!=typeof t.firstChild.getAttribute&&"#"!==t.firstChild.getAttribute("href")&&(c.attrHandle.href=function(t){return t.getAttribute("href",2)}),t=null}(),document.querySelectorAll&&function(){var t=l,e=document.createElement("div");if(e.innerHTML="<p class='TEST'></p>",!e.querySelectorAll||0!==e.querySelectorAll(".TEST").length){l=function(e,i,n,s){if(i=i||document,!s&&9===i.nodeType&&!g(i))try{return h(i.querySelectorAll(e),n)}catch(a){}return t(e,i,n,s)};for(var i in t)l[i]=t[i];e=null}}(),function(){var t=document.createElement("div");t.innerHTML="<div class='test e'></div><div class='test'></div>",t.getElementsByClassName&&0!==t.getElementsByClassName("e").length&&(t.lastChild.className="e",1!==t.getElementsByClassName("e").length&&(c.order.splice(1,0,"CLASS"),c.find.CLASS=function(t,e,i){return"undefined"==typeof e.getElementsByClassName||i?void 0:e.getElementsByClassName(t[1])},t=null))}();var m=document.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:function(t,e){return t!==e&&(t.contains?t.contains(e):!0)},g=function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?"HTML"!==e.nodeName:!1},v=function(t,e){for(var i,n=[],s="",a=e.nodeType?[e]:e;i=c.match.PSEUDO.exec(t);)s+=i[0],t=t.replace(c.match.PSEUDO,"");t=c.relative[t]?t+"*":t;for(var o=0,r=a.length;r>o;o++)l(t,a[o],n);return l.filter(s,n)};return l}),define("ninja/event-scribe",["require","exports","module"],function(){function t(){this.handlers={},this.currentElement=null}return t.prototype={recordEventHandlers:function(t,e){this.currentElement!==t.element&&(null!==this.currentElement&&(this.applyEventHandlers(this.currentElement),this.handlers={}),this.currentElement=t.element);for(var i in e.eventHandlers){var n=this.handlers[i];"undefined"==typeof n&&(n=function(){return!0}),this.handlers[i]=e.buildHandler(t,i,n)}},applyEventHandlers:function(t){for(var e in this.handlers)jQuery(t).bind(e,this.handlers[e])}},t}),define("ninja/behavior-collection",["sizzle-1.0","ninja/behaviors","utils","ninja/event-scribe","ninja/exceptions"],function(t,e,i,n,s){function a(t){i.log(t)}function o(t){return this.lexicalCount=0,this.eventQueue=[],this.behaviors={},this.selectors=[],this.mutationTargets=[],this.tools=t,this}var r=i.forEach,l=s.TransformFailed,c=s.CouldntChoose;return o.prototype={addBehavior:function(t,n){if(i.isArray(n))r(n,function(e){this.addBehavior(t,e)},this);else if(n instanceof e.base)this.insertBehavior(t,n);else if(n instanceof e.select)this.insertBehavior(t,n);else if(n instanceof e.meta)this.insertBehavior(t,n);else if("function"==typeof n)this.addBehavior(t,n());else{var n=new e.base(n);this.addBehavior(t,n)}},insertBehavior:function(t,e){e.lexicalOrder=this.lexicalCount,this.lexicalCount+=1,void 0===this.behaviors[t]?(this.selectors.push(t),this.behaviors[t]=[e]):this.behaviors[t].push(e)},addMutationTargets:function(t){this.mutationTargets=this.mutationTargets.concat(t)},fireMutationEvent:function(){var t=this.mutationTargets;if(t.length>0)for(var e=t[0];t.length>0;e=t.shift())jQuery(e).trigger("thisChangedDOM");else this.tools.getRootOfDocument().trigger("thisChangedDOM")},mutationEventTriggered:function(t){0==this.eventQueue.length?(a("mutation event - first"),this.enqueueEvent(t),this.handleQueue()):(a("mutation event - queueing"),this.enqueueEvent(t))},enqueueEvent:function(t){var e=!1,i=[];r(this.eventQueue,function(n){e=e||jQuery.contains(n.target,t.target),jQuery.contains(t.target,n.target)||i.push(n)}),e||(i.unshift(t),this.eventQueue=i)},handleQueue:function(){for(;0!=this.eventQueue.length;)this.applyAll(this.eventQueue[0].target),this.eventQueue.shift()},applyBehaviorsTo:function(t,e){return this.applyBehaviorsInContext(new this.tools.behaviorContext,t,e)},applyBehaviorsInContext:function(t,e,i){var s,o=t,c=new n;return this.tools.enrich(c.handlers,t.eventHandlerSet),i=i.sort(function(t,e){return t.priority!=e.priority?void 0===t.priority?-1:void 0===e.priority?1:t.priority-e.priority:t.lexicalOrder-e.lexicalOrder}),r(i,function(i){try{s=i.inContext(t),e=i.applyTransform(s,e),t=s,t.element=e,c.recordEventHandlers(t,i)}catch(n){if(!(n instanceof l))throw a(n),n;a("!!! Transform failed")}}),o.visibleElement=e,jQuery(e).data("ninja-visited",t),c.applyEventHandlers(e),this.tools.enrich(t.eventHandlerSet,c.handlers),this.fireMutationEvent(),e},collectBehaviors:function(t,e,i){r(i,function(i){try{e.push(i.choose(t))}catch(n){if(!(n instanceof c))throw a(n),n;a("!!! couldn't choose")}})},apply:function(t,e,i){var n=[],s=this.selectors.length;this.collectBehaviors(t,n,e);var a=jQuery(t).data("ninja-visited");if(a)a.unbindHandlers(),this.applyBehaviorsInContext(a,t,n);else{"undefined"==typeof i&&(i=0);for(var o=i;s>o;o++)jQuery(t).is(this.selectors[o])&&this.collectBehaviors(t,n,this.behaviors[this.selectors[o]]);this.applyBehaviorsTo(t,n)}},applyAll:function(e){for(var i=this.selectors.length,n=0;i>n;n++){var s=this;r(t(this.selectors[n],e),function(t){jQuery(t).data("ninja-visited")||s.apply(t,[],n)})}}},o}),define("ninja/root-context",["utils"],function(t){var e=t.forEach;return function(t){function i(){this.stashedElements=[],this.eventHandlerSet={}}return i.prototype=t.enrich(t,{stash:function(t){this.stashedElements.unshift(t)},unstash:function(){return this.stashedElements.shift()},clearStash:function(){this.stashedElements=[]},cascadeEvent:function(t){var i=Ninja.tools.hiddenDiv();e(this.stashedElements,function(e){var n=jQuery(e);n.data("ninja-visited",this),jQuery(i).append(n),n.trigger(t)})},unbindHandlers:function(){var t=jQuery(this.element);for(eventName in this.eventHandlerSet)t.unbind(eventName,this.eventHandlerSet[eventName])}}),i}}),define("ninja/tools",["ninja/behaviors","ninja/behavior-collection","ninja/exceptions","utils","ninja/root-context"],function(t,e,i,n,s){function a(t){n.log(t)}function o(t){this.ninja=t,this.behaviorContext=s(this)}var r=i.TransformFailed;return o.prototype={forEach:n.forEach,enrich:function(t,e){return jQuery.extend(t,e)},ensureDefaults:function(t,e){t instanceof Object||(t={});for(var i in e)"undefined"==typeof t[i]&&("undefined"!=typeof this.ninja.config[i]?t[i]=this.ninja.config[i]:"undefined"!=typeof e[i]&&(t[i]=e[i]));return t},getRootOfDocument:function(){return jQuery("html")},clearRootCollection:function(){this.ninja.behavior=this.ninja.goodBehavior,this.getRootOfDocument().data("ninja-behavior",null)},getRootCollection:function(){var t=this.getRootOfDocument();if(t.data("ninja-behavior")instanceof e)return t.data("ninja-behavior");var i=new e(this);return t.data("ninja-behavior",i),i},addMutationTargets:function(t){this.getRootCollection().addMutationTargets(t)},fireMutationEvent:function(){this.getRootCollection().fireMutationEvent()},detachSyntheticMutationEvents:function(){this.getRootCollection().fireMutationEvent=function(){},this.getRootCollection().addMutationTargets=function(){}},copyAttributes:function(t,e,i){var n=new RegExp("^"+i.join("$|^")+"$");e=jQuery(e),this.forEach(t.attributes,function(t){n.test(t.nodeName)&&e.attr(t.nodeName,t.nodeValue)})},deriveElementsFrom:function(t,e){switch(typeof e){case"undefined":return t;case"string":return jQuery(e);case"function":return e(t)}},extractMethod:function(t,e){if(void 0!==t.dataset&&void 0!==t.dataset.method&&t.dataset.method.length>0)return a("Override via dataset: "+t.dataset.method),t.dataset.method;if(void 0===t.dataset&&void 0!==jQuery(t).attr("data-method"))return a("Override via data-method: "+jQuery(t).attr("data-method")),jQuery(t).attr("data-method");if("undefined"!=typeof e)for(var i=0,n=e.length;n>i;i++)if("Method"==e[i].name)return a("Override via Method: "+e[i].value),e[i].value;return"undefined"!=typeof t.method?t.method:"GET"},cantTransform:function(t){throw new r(t)},applyBehaviors:function(t,e){this.getRootCollection().apply(t,e)},message:function(t,e){var i=this.ninja.config.messageWrapping(t,e);jQuery(this.ninja.config.messageList).append(i)},hiddenDiv:function(){var t=jQuery("div#ninja-hide");if(t.length>0)return t[0];var e=jQuery("<div id='ninja-hide'></div>").css("display","none");return jQuery("body").append(e),this.getRootCollection().applyBehaviorsTo(e,[this.ninja.suppressChangeEvents()]),e}},o}),define("ninja/configuration",["require","exports","module"],function(){return{messageWrapping:function(t,e){return"<div class='flash "+e+"'><p>"+t+"</p></div>"},messageList:"#messages",busyLaziness:200}}),define("ninja/tools/json-dispatcher",["utils"],function(t){function e(){this.handlers=[]}function i(t){this.desc=t}return e.prototype={addHandler:function(t){this.handlers.push(new i(t))},dispatch:function(e){for(var i=this.handlers.length,n=0;i>n;n++)try{this.handlers[n].receive(e)}catch(s){t.log("Caught: "+s+" while handling JSON response.")}},inspect:function(){var e=[];return t.forEach(this.handlers,function(t){e.push(t.inspect())}),"JSONDispatcher, "+this.handlers.length+" handlers:\n"+e.join("\n")}},i.prototype={receive:function(t){return this.compose([],t,this.desc),null},compose:function(e,i,n){if("function"==typeof n)try{n.call(this,i)}catch(s){t.log("Caught: "+s+" while handling JSON at "+e.join("/"))}else for(var a in i)i.hasOwnProperty(a)&&a in n&&this.compose(e.concat([a]),i[a],n[a]);return null},inspectTree:function(e){var i=[];for(var n in e)"function"==typeof e[n]?i.push(n):t.forEach(this.inspectTree(e[n]),function(t){i.push(n+"."+t)});return i},inspect:function(){return this.inspectTree(this.desc).join("\n")}},e}),define("ninja",["utils","ninja/tools","ninja/behaviors","ninja/configuration","ninja/tools/json-dispatcher"],function(t,e,i,n,s){function a(e){t.log(e)}function o(){this.config=n,this.utils=t,this.behavior=this.goodBehavior,this.jsonDispatcher=new s,this.tools=new e(this)}return o.prototype={packageBehaviors:function(t){var e={does:i.base,chooses:i.meta,selects:i.select};result=t(e),this.tools.enrich(this,result)},packageTools:function(t){this.tools.enrich(e.prototype,t)},configure:function(t){this.tools.enrich(this.config,t)},goodBehavior:function(t){var e=this.tools.getRootCollection();for(var i in t)"undefined"==typeof t[i]?a("Selector "+i+" not properly defined - ignoring"):e.addBehavior(i,t[i]);this.failSafeGo()},failSafeGo:function(){this.failSafeGo=function(){},jQuery(window).load(function(){Ninja.go()})},badBehavior:function(){throw new Error("Called Ninja.behavior() after Ninja.go() - don't do that.  'Go' means 'I'm done, please proceed'")},respondToJson:function(t){this.jsonDispatcher.addHandler(t)},go:function(){function t(t){e.tools.getRootCollection().mutationEventTriggered(t)}var e=this;if(this.behavior!=this.badBehavior){var i=this.tools.getRootOfDocument();i.bind("DOMSubtreeModified DOMNodeInserted thisChangedDOM",t),i.one("DOMSubtreeModified DOMNodeInserted",function(){e.tools.detachSyntheticMutationEvents()}),this.behavior=this.badBehavior,this.tools.fireMutationEvent()}}},new o}),define("ninja/behaviors/utility",["ninja"],function(t){t.packageBehaviors(function(t){return{suppressChangeEvents:function(){return new t.does({events:{DOMSubtreeModified:function(){},DOMNodeInserted:function(){}}})}}})}),define("ninja/behaviors/standard",["ninja","utils"],function(t,e){function i(t){e.log(t)}t.packageBehaviors(function(e){return{submitsAsAjax:function(i){return new e.chooses(function(e){e.asLink=t.submitsAsAjaxLink(i),e.asForm=t.submitsAsAjaxForm(i)},function(t){switch(t.tagName.toLowerCase()){case"a":return this.asLink;case"form":return this.asForm}})},submitsAsAjaxLink:function(i){return i=t.tools.ensureDefaults(i,{busyElement:function(t){return $(t).parents("address,blockquote,body,dd,div,p,dl,dt,table,form,ol,ul,tr")[0]}}),i.actions||(i.actions=i.expectsJSON),new e.does({priority:10,helpers:{findOverlay:function(t){return this.deriveElementsFrom(t,i.busyElement)}},events:{click:function(t){this.overlayAndSubmit(this.visibleElement,t.target,t.target.href,i.actions)}}})},submitsAsAjaxForm:function(i){return i=t.tools.ensureDefaults(i,{busyElement:void 0}),i.actions||(i.actions=i.expectsJSON),new e.does({priority:10,helpers:{findOverlay:function(t){return this.deriveElementsFrom(t,i.busyElement)}},events:{submit:function(t){this.overlayAndSubmit(this.visibleElement,t.target,t.target.action,i.actions)}}})},becomesAjaxLink:function(e){return e=t.tools.ensureDefaults(e,{busyElement:void 0,retainedFormAttributes:["id","class","lang","dir","title","data-.*"]}),[t.submitsAsAjax(e),t.becomesLink(e)]},becomesLink:function(n){return n=t.tools.ensureDefaults(n,{retainedFormAttributes:["id","class","lang","dir","title","rel","data-.*"]}),new e.does({priority:30,transform:function(t){var e;(images=jQuery("input[type=image]",t)).size()>0?(image=images[0],e="<img src='"+image.src+"' alt='"+image.alt+"'"):(submits=jQuery("input[type=submit]",t)).size()>0?(submit=submits[0],submits.size()>1&&i("Multiple submits.  Using: "+submit),e=submit.value):(i("Couldn't find a submit input in form"),this.cantTransform("Couldn't find a submit input"));var s=jQuery("<a rel='nofollow' href='#'>"+e+"</a>");return this.copyAttributes(t,s,n.retainedFormAttributes),this.stash(jQuery(t).replaceWith(s)),s},events:{click:function(){this.cascadeEvent("submit")}}})},decays:function(i){return i=t.tools.ensureDefaults(i,{lifetime:1e4,diesFor:600}),new e.does({priority:100,transform:function(e){jQuery(e).delay(i.lifetime).slideUp(i.diesFor,function(){jQuery(e).remove(),t.tools.fireMutationEvent()})},events:{click:[function(){jQuery(this.element).remove()},"changesDOM"]}})}}})}),define("ninja/behaviors/placeholder",["ninja"],function(t){t.packageBehaviors(function(e){function i(t){return new e.does({priority:1e3,submit:[function(e,i,n){t.prepareForSubmit(),n(e)},"andDoDefault"]})}function n(i){return i=t.tools.ensureDefaults(i,{textElementSelector:function(t){return"*[data-for="+t.id+"]"},findTextElement:function(t){var e=$(i.textElementSelector(t));return 0==e.length?null:e[0]}}),new e.does({priority:-10,transform:function(t){var e=$(i.findTextElement(t));null===e&&this.cantTransform(),this.placeholderText=e.text(),$(t).attr("placeholder",e.text()),this.stash(e.detach())}})}function s(t,n){return new e.does({helpers:{prepareForSubmit:function(){$(this.element).val("")}},transform:function(){this.applyBehaviors(n,[i(this)])},events:{focus:function(){var e=$(this.element),i=e.attr("id");e.attr("id",""),e.replaceWith(t),t.attr("id",i),t.focus()}}})}function a(i){return i=t.tools.ensureDefaults(i,{findParentForm:function(t){return t.parents("form")[0]},retainedInputAttributes:["name","class","style","title","lang","dir","size","maxlength","alt","tabindex","accesskey","data-.*"]}),new e.does({priority:1e3,helpers:{swapInAlternate:function(){var t=$(this.element),e=t.attr("id");""==t.val()&&(t.attr("id",""),t.replaceWith(this.placeholderTextInput),this.placeholderTextInput.attr("id",e))}},transform:function(t){var e,n=$(t);e=$('<input type="text">'),this.copyAttributes(t,e,i.retainedInputAttributes),e.addClass("ninja_placeholder"),e.val(this.placeholderText);var a=s(n,i.findParentForm(n));return this.applyBehaviors(e,[a]),this.placeholderTextInput=e,this.swapInAlternate(),t},events:{blur:function(){this.swapInAlternate()}}})}function o(n){return n=t.tools.ensureDefaults(n,{findParentForm:function(t){return t.parents("form")[0]}}),new e.does({priority:1e3,helpers:{prepareForSubmit:function(){$(this.element).hasClass("ninja_placeholder")&&$(this.element).val("")}},transform:function(t){var e=$(t);return e.addClass("ninja_placeholder"),e.val(this.placeholderText),this.applyBehaviors(n.findParentForm(e),[i(this)]),t},events:{focus:function(){$(this.element).hasClass("ninja_placeholder")&&$(this.element).removeClass("ninja_placeholder").val("")},blur:function(){""==$(this.element).val()&&$(this.element).addClass("ninja_placeholder").val(this.placeholderText)}}})}var r=!!("placeholder"in document.createElement("input")),l=!!("placeholder"in document.createElement("textarea"));return{hasPlaceholder:function(t){var i=[n(t)];return r&&l||i.push(new e.chooses(function(e){r?(e.asTextInput=null,e.asPassword=null):(e.asTextInput=o(t),e.asPassword=a(t)),e.asTextArea=l?null:o(t)},function(t){return t=$(t),t.is("input[type=text]")?this.asTextInput:t.is("textarea")?this.asTextArea:t.is("input[type=password]")?this.asPassword:void 0})),i}}})}),define("ninja/behaviors/trigger-on",["ninja"],function(t){t.packageBehaviors(function(e){return{triggersOnSelect:function(i){i=t.tools.ensureDefaults(i,{busyElement:void 0,placeholderText:"Select to go",placeholderValue:"instructions"});var n=i;return"object"==typeof i.actions&&(n=i.actions),new e.does({priority:20,helpers:{findOverlay:function(t){return this.deriveElementsFrom(t,i.busyElement)}},transform:function(t){var e=$(t).find("select").first();return"undefined"==typeof e&&this.cantTransform(),e.prepend("<option value='"+i.placeholderValue+"'> "+i.placeholderText+"</option>"),e.val(i.placeholderValue),$(t).find("input[type='submit']").remove(),t},events:{change:[function(t,e){this.overlayAndSubmit(e,e.action,n)},"andDoDefault"]}})}}})}),define("ninja/behaviors/confirm",["ninja"],function(t){t.packageBehaviors(function(e){return{confirms:function(i){function n(t,e){confirm(i.confirmMessage(e))||(t.preventDefault(),t.preventFallthrough())}return i=t.tools.ensureDefaults(i,{confirmMessage:function(t){return $(t).attr("data-confirm")}}),"string"==typeof i.confirmMessage&&(message=i.confirmMessage,i.confirmMessage=function(){return message}),new e.selects({form:new e.does({priority:20,events:{submit:[n,"andDoDefault"]}}),"a,input":new e.does({priority:20,events:{click:[n,"andDoDefault"]}})})}}})}),define("ninja/behaviors/all",["./utility","./standard","./placeholder","./trigger-on","./confirm"],function(){}),define("ninja/tools/overlay",["utils","ninja"],function(t,e){function i(t){var e=this.convertToElementArray(t);this.laziness=0;var i=this;this.set=jQuery(jQuery.map(e,function(t){return i.buildOverlayFor(t)}))}var n=t.forEach;return i.prototype={convertToElementArray:function(t){var e=this;switch(typeof t){case"undefined":return[];case"boolean":return[];case"string":return e.convertToElementArray(jQuery(t));case"function":return e.convertToElementArray(t());case"object":if("focus"in t&&"blur"in t&&!("jquery"in t))return[t];if("length"in t&&"0"in t){var i=[];return n(t,function(t){i=i.concat(e.convertToElementArray(t))}),i}return[]}},buildOverlayFor:function(t){var e=jQuery(document.createElement("div")),i=jQuery(t),n=i.offset();return e.css("position","absolute"),e.css("top",n.top),e.css("left",n.left),e.width(i.outerWidth()),e.height(i.outerHeight()),e.css("zIndex","2"),e.css("display","none"),e[0]},affix:function(){this.set.appendTo(jQuery("body")),overlaySet=this.set,window.setTimeout(function(){overlaySet.css("display","block")},this.laziness)},remove:function(){this.set.remove()}},e.packageTools({overlay:function(){return new i(jQuery.makeArray(arguments))},busyOverlay:function(t){var e=this.overlay(t);return e.set.addClass("ninja_busy"),e.laziness=this.ninja.config.busyLaziness,e},buildOverlayFor:function(t){var e=jQuery(document.createElement("div")),i=jQuery(t),n=i.offset();return e.css("position","absolute"),e.css("top",n.top),e.css("left",n.left),e.width(i.outerWidth()),e.height(i.outerHeight()),e.css("zIndex","2"),e}}),i}),define("ninja/tools/ajax-submitter",["ninja","utils","./json-dispatcher","./overlay"],function(t,e){function i(t){e.log(t)}function n(){return this.formData=[],this.action="/",this.method="GET",this.dataType="script",this}return n.prototype={submit:function(){i("Computed method: "+this.method),jQuery.ajax(this.ajaxData())},sourceForm:function(t){this.formData=jQuery(t).serializeArray()},ajaxData:function(){return{data:this.formData,dataType:this.dataType,url:this.action,type:this.method,complete:this.responseHandler(),success:this.successHandler(),error:this.onError}},successHandler:function(){var t=this;return function(e,i,n){t.onSuccess(n,i,e)}},responseHandler:function(){var e=this;return function(i,n){e.onResponse(i,n),t.tools.fireMutationEvent()}},onResponse:function(){},onSuccess:function(){},onError:function(e){i(e.responseText),t.tools.message("Server error: "+e.statusText,"error")}},t.packageTools({ajaxSubmitter:function(){return new n},ajaxToJson:function(){var e=this.ajaxSubmitter();return e.dataType="json",e.onSuccess=function(e,i,n){t.jsonDispatcher.dispatch(n)},e},overlayAndSubmit:function(t,e,i,n){var s,a=this.busyOverlay(this.findOverlay(t));s="undefined"==typeof n?this.ajaxSubmitter():this.ajaxToJson(n),s.sourceForm(e),s.action=i,s.method=this.extractMethod(e,s.formData),s.onResponse=function(){a.remove()},a.affix(),s.submit()}}),n}),define("ninja/tools/all",["./overlay","./ajax-submitter","./json-dispatcher"],function(){}),define("ninja/jquery",["ninja"],function(t){jQuery.extend({ninja:t,behavior:t.behavior})}),window.Ninja={orderList:[],orders:function(t){this.orderList.push(t)}},require(["ninja","ninja/behaviors/all","ninja/tools/all","ninja/jquery"],function(t){var e=window.Ninja.orderList,i=e.length;window.Ninja=t,t.behavior=t.behavior;for(var n=0;i>n;n++)e[n](t);t.orders=function(t){t(this)}}),define("main",function(){}),/*
* jQuery timepicker addon
* By: Trent Richardson [http://trentrichardson.com]
* Version 0.9.8
* Last Modified: 12/03/2011
*
* Copyright 2011 Trent Richardson
* Dual licensed under the MIT and GPL licenses.
* http://trentrichardson.com/Impromptu/GPL-LICENSE.txt
* http://trentrichardson.com/Impromptu/MIT-LICENSE.txt
*
* HERES THE CSS:
* .ui-timepicker-div .ui-widget-header { margin-bottom: 8px; }
* .ui-timepicker-div dl { text-align: left; }
* .ui-timepicker-div dl dt { height: 25px; margin-bottom: -25px; }
* .ui-timepicker-div dl dd { margin: 0 10px 10px 65px; }
* .ui-timepicker-div td { font-size: 90%; }
* .ui-tpicker-grid-label { background: none; border: none; margin: 0; padding: 0; }
*/
function($){function Timepicker(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",ampm:!1,amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone"},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,showTimepicker:!0,timezoneIso8609:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null},$.extend(this._defaults,this.regional[""])}function extendRemove(t,e){$.extend(t,e);for(var i in e)(null===e[i]||void 0===e[i])&&(t[i]=e[i]);return t}$.extend($.ui,{timepicker:{version:"0.9.8"}}),$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={};for(var attrName in this._defaults){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}if(tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,{beforeShow:function(t,e){$.isFunction(o.beforeShow)&&o.beforeShow(t,e,tp_inst)},onChangeMonthYear:function(t,e,i){tp_inst._updateDateTime(i),$.isFunction(o.onChangeMonthYear)&&o.onChangeMonthYear.call($input[0],t,e,i,tp_inst)},onClose:function(t,e){tp_inst.timeDefined===!0&&""!=$input.val()&&tp_inst._updateDateTime(e),$.isFunction(o.onClose)&&o.onClose.call($input[0],t,e,tp_inst)},timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(t){return t.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(t){return t.toUpperCase()}),null===tp_inst._defaults.timezoneList){for(var timezoneList=[],i=-11;12>=i;i++)timezoneList.push((i>=0?"+":"-")+("0"+Math.abs(i).toString()).slice(-2)+"00");tp_inst._defaults.timezoneIso8609&&(timezoneList=$.map(timezoneList,function(t){return"+0000"==t?"Z":t.substring(0,3)+":"+t.substring(3)})),tp_inst._defaults.timezoneList=timezoneList}return tp_inst.hour=tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),(0==tp_inst._defaults.minDate||0==tp_inst._defaults.minDateTime)&&(tp_inst._defaults.minDate=new Date),(0==tp_inst._defaults.maxDate||0==tp_inst._defaults.maxDateTime)&&(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst},_addTimePicker:function(t){var e=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(e),this._limitMinMaxDateTime(t,!1),this._injectTimePicker()},_parseTime:function(t,e){var i,n=this._defaults.timeFormat.toString().replace(/h{1,2}/gi,"(\\d?\\d)").replace(/m{1,2}/gi,"(\\d?\\d)").replace(/s{1,2}/gi,"(\\d?\\d)").replace(/l{1}/gi,"(\\d?\\d?\\d)").replace(/t{1,2}/gi,this._getPatternAmpm()).replace(/z{1}/gi,"(z|[-+]\\d\\d:?\\d\\d)?").replace(/\s/g,"\\s?")+this._defaults.timeSuffix+"$",s=this._getFormatPositions(),a="";if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),e||!this._defaults.timeOnly){var o=$.datepicker._get(this.inst,"dateFormat"),r=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");n=".{"+o.length+",}"+this._defaults.separator.replace(r,"\\$&")+n}if(i=t.match(new RegExp(n,"i"))){if(-1!==s.t&&(void 0===i[s.t]||0===i[s.t].length?(a="",this.ampm=""):(a=-1!==$.inArray(i[s.t].toUpperCase(),this.amNames)?"AM":"PM",this.ampm=this._defaults["AM"==a?"amNames":"pmNames"][0])),-1!==s.h&&(this.hour="AM"==a&&"12"==i[s.h]?0:"PM"==a&&"12"!=i[s.h]?(parseFloat(i[s.h])+12).toFixed(0):Number(i[s.h])),-1!==s.m&&(this.minute=Number(i[s.m])),-1!==s.s&&(this.second=Number(i[s.s])),-1!==s.l&&(this.millisec=Number(i[s.l])),-1!==s.z&&void 0!==i[s.z]){var l=i[s.z].toUpperCase();switch(l.length){case 1:l=this._defaults.timezoneIso8609?"Z":"+0000";break;case 5:this._defaults.timezoneIso8609&&(l="0000"==l.substring(1)?"Z":l.substring(0,3)+":"+l.substring(3));break;case 6:this._defaults.timezoneIso8609?"00:00"==l.substring(1)&&(l="Z"):l="Z"==l||"00:00"==l.substring(1)?"+0000":l.replace(/:/,"")}this.timezone=l}return!0}return!1},_getPatternAmpm:function(){var t=[];return o=this._defaults,o.amNames&&$.merge(t,o.amNames),o.pmNames&&$.merge(t,o.pmNames),t=$.map(t,function(t){return t.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+t.join("|")+")?"},_getFormatPositions:function(){var t=this._defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z)/g),e={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(t)for(var i=0;t.length>i;i++)-1==e[t[i].toString().charAt(0)]&&(e[t[i].toString().charAt(0)]=i+1);return e},_injectTimePicker:function(){var t=this.inst.dpDiv,e=this._defaults,i=this,n=parseInt(e.hourMax-(e.hourMax-e.hourMin)%e.stepHour,10),s=parseInt(e.minuteMax-(e.minuteMax-e.minuteMin)%e.stepMinute,10),a=parseInt(e.secondMax-(e.secondMax-e.secondMin)%e.stepSecond,10),o=parseInt(e.millisecMax-(e.millisecMax-e.millisecMin)%e.stepMillisec,10),r=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if(0===t.find("div#ui-timepicker-div-"+r).length&&e.showTimepicker){var l,c=' style="display:none;"',u='<div class="ui-timepicker-div" id="ui-timepicker-div-'+r+'"><dl>'+'<dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+r+'"'+(e.showTime?"":c)+">"+e.timeText+"</dt>"+'<dd class="ui_tpicker_time" id="ui_tpicker_time_'+r+'"'+(e.showTime?"":c)+"></dd>"+'<dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+r+'"'+(e.showHour?"":c)+">"+e.hourText+"</dt>",d=0,h=0,f=0,p=0;if(u+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+r+'"'+(e.showHour?"":c)+"></div>",e.showHour&&e.hourGrid>0){u+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var m=e.hourMin;n>=m;m+=parseInt(e.hourGrid,10)){d++;var g=e.ampm&&m>12?m-12:m;10>g&&(g="0"+g),e.ampm&&(0==m?g="12a":g+=12>m?"a":"p"),u+="<td>"+g+"</td>"}u+="</tr></table></div>"}if(u+="</dd>",u+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+r+'"'+(e.showMinute?"":c)+">"+e.minuteText+"</dt>"+'<dd class="ui_tpicker_minute"><div id="ui_tpicker_minute_'+r+'"'+(e.showMinute?"":c)+"></div>",e.showMinute&&e.minuteGrid>0){u+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var v=e.minuteMin;s>=v;v+=parseInt(e.minuteGrid,10))h++,u+="<td>"+(10>v?"0":"")+v+"</td>";u+="</tr></table></div>"}if(u+="</dd>",u+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+r+'"'+(e.showSecond?"":c)+">"+e.secondText+"</dt>"+'<dd class="ui_tpicker_second"><div id="ui_tpicker_second_'+r+'"'+(e.showSecond?"":c)+"></div>",e.showSecond&&e.secondGrid>0){u+='<div style="padding-left: 1px"><table><tr>';for(var _=e.secondMin;a>=_;_+=parseInt(e.secondGrid,10))f++,u+="<td>"+(10>_?"0":"")+_+"</td>";u+="</tr></table></div>"}if(u+="</dd>",u+='<dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_'+r+'"'+(e.showMillisec?"":c)+">"+e.millisecText+"</dt>"+'<dd class="ui_tpicker_millisec"><div id="ui_tpicker_millisec_'+r+'"'+(e.showMillisec?"":c)+"></div>",e.showMillisec&&e.millisecGrid>0){u+='<div style="padding-left: 1px"><table><tr>';for(var b=e.millisecMin;o>=b;b+=parseInt(e.millisecGrid,10))p++,u+="<td>"+(10>b?"0":"")+b+"</td>";u+="</tr></table></div>"}u+="</dd>",u+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+r+'"'+(e.showTimezone?"":c)+">"+e.timezoneText+"</dt>",u+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+r+'"'+(e.showTimezone?"":c)+"></dd>",u+="</dl></div>",$tp=$(u),e.timeOnly===!0&&($tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+e.timeOnlyTitle+"</div>"+"</div>"),t.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),this.hour_slider=$tp.find("#ui_tpicker_hour_"+r).slider({orientation:"horizontal",value:this.hour,min:e.hourMin,max:n,step:e.stepHour,slide:function(t,e){i.hour_slider.slider("option","value",e.value),i._onTimeChange()}}),this.minute_slider=$tp.find("#ui_tpicker_minute_"+r).slider({orientation:"horizontal",value:this.minute,min:e.minuteMin,max:s,step:e.stepMinute,slide:function(t,e){i.minute_slider.slider("option","value",e.value),i._onTimeChange()}}),this.second_slider=$tp.find("#ui_tpicker_second_"+r).slider({orientation:"horizontal",value:this.second,min:e.secondMin,max:a,step:e.stepSecond,slide:function(t,e){i.second_slider.slider("option","value",e.value),i._onTimeChange()}}),this.millisec_slider=$tp.find("#ui_tpicker_millisec_"+r).slider({orientation:"horizontal",value:this.millisec,min:e.millisecMin,max:o,step:e.stepMillisec,slide:function(t,e){i.millisec_slider.slider("option","value",e.value),i._onTimeChange()}}),this.timezone_select=$tp.find("#ui_tpicker_timezone_"+r).append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(e.timezoneList,function(t){return $("<option />").val("object"==typeof t?t.value:t).text("object"==typeof t?t.label:t)})),this.timezone_select.val("undefined"!=typeof this.timezone&&null!=this.timezone&&""!=this.timezone?this.timezone:e.timezone),this.timezone_select.change(function(){i._onTimeChange()}),e.showHour&&e.hourGrid>0&&(l=100*d*e.hourGrid/(n-e.hourMin),$tp.find(".ui_tpicker_hour table").css({width:l+"%",marginLeft:l/(-2*d)+"%",borderCollapse:"collapse"}).find("td").each(function(){$(this).click(function(){var t=$(this).html();if(e.ampm){var n=t.substring(2).toLowerCase(),s=parseInt(t.substring(0,2),10);t="a"==n?12==s?0:s:12==s?12:s+12}i.hour_slider.slider("option","value",t),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/d+"%",textAlign:"center",overflow:"hidden"})})),e.showMinute&&e.minuteGrid>0&&(l=100*h*e.minuteGrid/(s-e.minuteMin),$tp.find(".ui_tpicker_minute table").css({width:l+"%",marginLeft:l/(-2*h)+"%",borderCollapse:"collapse"}).find("td").each(function(){$(this).click(function(){i.minute_slider.slider("option","value",$(this).html()),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/h+"%",textAlign:"center",overflow:"hidden"})})),e.showSecond&&e.secondGrid>0&&$tp.find(".ui_tpicker_second table").css({width:l+"%",marginLeft:l/(-2*f)+"%",borderCollapse:"collapse"}).find("td").each(function(){$(this).click(function(){i.second_slider.slider("option","value",$(this).html()),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/f+"%",textAlign:"center",overflow:"hidden"})}),e.showMillisec&&e.millisecGrid>0&&$tp.find(".ui_tpicker_millisec table").css({width:l+"%",marginLeft:l/(-2*p)+"%",borderCollapse:"collapse"}).find("td").each(function(){$(this).click(function(){i.millisec_slider.slider("option","value",$(this).html()),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/p+"%",textAlign:"center",overflow:"hidden"})});var y=t.find(".ui-datepicker-buttonpane");if(y.length?y.before($tp):t.append($tp),this.$timeObj=$tp.find("#ui_tpicker_time_"+r),null!==this.inst){var x=this.timeDefined;this._onTimeChange(),this.timeDefined=x}var k=function(){i._onSelectHandler()};if(this.hour_slider.bind("slidestop",k),this.minute_slider.bind("slidestop",k),this.second_slider.bind("slidestop",k),this.millisec_slider.bind("slidestop",k),this._defaults.addSliderAccess){var w=this._defaults.sliderAccessArgs;setTimeout(function(){if(0==$tp.find(".ui-slider-access").length){$tp.find(".ui-slider:visible").sliderAccess(w);var t=$tp.find(".ui-slider-access:eq(0)").outerWidth(!0);t&&$tp.find("table:visible").each(function(){var e=$(this),i=e.outerWidth(),n=e.css("marginLeft").toString().replace("%",""),s=i-t,a=n*s/i+"%";e.css({width:s,marginLeft:a})})}},0)}}},_limitMinMaxDateTime:function(t,e){var i=this._defaults,n=new Date(t.selectedYear,t.selectedMonth,t.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(t,"minDateTime")&&void 0!==$.datepicker._get(t,"minDateTime")&&n){var s=$.datepicker._get(t,"minDateTime"),a=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0);(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal)&&(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin),t.settings.timeOnly||a.getTime()==n.getTime()?(this._defaults.hourMin=s.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=s.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=s.getSeconds()):this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=s.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)}if(null!==$.datepicker._get(t,"maxDateTime")&&void 0!==$.datepicker._get(t,"maxDateTime")&&n){var o=$.datepicker._get(t,"maxDateTime"),r=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0);(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||null===this.secondMaxOriginal)&&(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax),t.settings.timeOnly||r.getTime()==n.getTime()?(this._defaults.hourMax=o.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=o.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=o.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=o.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)}if(void 0!==e&&e===!0){var l=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),u=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),d=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&this.hour_slider.slider("option",{min:this._defaults.hourMin,max:l}).slider("value",this.hour),this.minute_slider&&this.minute_slider.slider("option",{min:this._defaults.minuteMin,max:c}).slider("value",this.minute),this.second_slider&&this.second_slider.slider("option",{min:this._defaults.secondMin,max:u}).slider("value",this.second),this.millisec_slider&&this.millisec_slider.slider("option",{min:this._defaults.millisecMin,max:d}).slider("value",this.millisec)}}},_onTimeChange:function(){var t=this.hour_slider?this.hour_slider.slider("value"):!1,e=this.minute_slider?this.minute_slider.slider("value"):!1,i=this.second_slider?this.second_slider.slider("value"):!1,n=this.millisec_slider?this.millisec_slider.slider("value"):!1,s=this.timezone_select?this.timezone_select.val():!1,a=this._defaults;"object"==typeof t&&(t=!1),"object"==typeof e&&(e=!1),"object"==typeof i&&(i=!1),"object"==typeof n&&(n=!1),"object"==typeof s&&(s=!1),t!==!1&&(t=parseInt(t,10)),e!==!1&&(e=parseInt(e,10)),i!==!1&&(i=parseInt(i,10)),n!==!1&&(n=parseInt(n,10));var o=a[12>t?"amNames":"pmNames"][0],r=t!=this.hour||e!=this.minute||i!=this.second||n!=this.millisec||this.ampm.length>0&&12>t!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||s!=this.timezone;r&&(t!==!1&&(this.hour=t),e!==!1&&(this.minute=e),i!==!1&&(this.second=i),n!==!1&&(this.millisec=n),s!==!1&&(this.timezone=s),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),a.ampm&&(this.ampm=o),this._formatTime(),this.$timeObj&&this.$timeObj.text(this.formattedTime+a.timeSuffix),this.timeDefined=!0,r&&this._updateDateTime()},_onSelectHandler:function(){var t=this._defaults.onSelect,e=this.$input?this.$input[0]:null;t&&e&&t.apply(e,[this.formattedDateTime,this])},_formatTime:function(t,e,i){void 0==i&&(i=this._defaults.ampm),t=t||{hour:this.hour,minute:this.minute,second:this.second,millisec:this.millisec,ampm:this.ampm,timezone:this.timezone};var n=(e||this._defaults.timeFormat).toString(),s=parseInt(t.hour,10);return i&&(-1!==!$.inArray(t.ampm.toUpperCase(),this.amNames)&&(s%=12),0===s&&(s=12)),n=n.replace(/(?:hh?|mm?|ss?|[tT]{1,2}|[lz])/g,function(e){switch(e.toLowerCase()){case"hh":return("0"+s).slice(-2);case"h":return s;case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"z":return t.timezone;case"t":case"tt":if(i){var n=t.ampm;return 1==e.length&&(n=n.charAt(0)),"T"==e.charAt(0)?n.toUpperCase():n.toLowerCase()}return""}}),arguments.length?n:(this.formattedTime=n,void 0)},_updateDateTime:function(t){t=this.inst||t;var e=$.datepicker._daylightSavingAdjust(new Date(t.selectedYear,t.selectedMonth,t.selectedDay)),i=$.datepicker._get(t,"dateFormat"),n=$.datepicker._getFormatConfig(t),s=null!==e&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(i,null===e?new Date:e,n);var a=this.formattedDate;void 0!==t.lastVal&&t.lastVal.length>0&&0===this.$input.val().length||(this._defaults.timeOnly===!0?a=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||s)&&(a+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=a,this._defaults.showTimepicker?this.$altInput&&this._defaults.altFieldTimeOnly===!0?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):this.$altInput?(this.$altInput.val(a),this.$input.val(a)):this.$input.val(a):this.$input.val(this.formattedDate),this.$input.trigger("change"))}}),$.fn.extend({timepicker:function(t){t=t||{};var e=arguments;return"object"==typeof t&&(e[0]=$.extend(t,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),e)})},datetimepicker:function(t){t=t||{};var e=arguments;return"string"==typeof t?"getDate"==t?$.fn.datepicker.apply($(this[0]),e):this.each(function(){var t=$(this);t.datepicker.apply(t,e)}):this.each(function(){var e=$(this);e.datepicker($.timepicker._newInst(e,t)._defaults)})}}),$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(t,e){var i=this._getInst($(t)[0]),n=this._get(i,"timepicker");n?(n._limitMinMaxDateTime(i,!0),i.inline=i.stay_open=!0,this._base_selectDate(t,e),i.inline=i.stay_open=!1,this._notifyChange(i),this._updateDatepicker(i)):this._base_selectDate(t,e)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(t){var e=t.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!=t&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e||"boolean"==typeof t.stay_open&&t.stay_open!==!1)){this._base_updateDatepicker(t);var i=this._get(t,"timepicker");i&&i._addTimePicker(t)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(t){var e=$.datepicker._getInst(t.target),i=$.datepicker._get(e,"timepicker");if(i&&$.datepicker._get(e,"constrainInput")){var n=i._defaults.ampm,s=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),a=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,n?"APM":"").replace(/Tt/g,n?"AaPpMm":"").replace(/tT/g,n?"AaPpMm":"").replace(/T/g,n?"AP":"").replace(/tt/g,n?"apm":"").replace(/t/g,n?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(i._defaults.showTimezone?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+s,o=String.fromCharCode(void 0===t.charCode?t.keyCode:t.charCode);return t.ctrlKey||" ">o||!s||a.indexOf(o)>-1}return $.datepicker._base_doKeyPress(t)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(t){var e=$.datepicker._getInst(t.target),i=$.datepicker._get(e,"timepicker");if(i&&i._defaults.timeOnly&&e.input.val()!=e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(n){$.datepicker.log(n)}return $.datepicker._base_doKeyUp(t)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(t){var e=this._getInst($(t)[0]),i=e.dpDiv;this._base_gotoToday(t);var n=new Date,s=this._get(e,"timepicker");if(s._defaults.showTimezone&&s.timezone_select){var a=n.getTimezoneOffset(),o=a>0?"-":"+";a=Math.abs(a);var r=a%60;a=o+("0"+(a-r)/60).slice(-2)+("0"+r).slice(-2),s._defaults.timezoneIso8609&&(a=a.substring(0,3)+":"+a.substring(3)),s.timezone_select.val(a)}this._setTime(e,n),$(".ui-datepicker-today",i).click()},$.datepicker._disableTimepickerDatepicker=function(t){var e=this._getInst(t),i=this._get(e,"timepicker");$(t).datepicker("getDate"),i&&(i._defaults.showTimepicker=!1,i._updateDateTime(e))},$.datepicker._enableTimepickerDatepicker=function(t){var e=this._getInst(t),i=this._get(e,"timepicker");$(t).datepicker("getDate"),i&&(i._defaults.showTimepicker=!0,i._addTimePicker(e),i._updateDateTime(e))},$.datepicker._setTime=function(t,e){var i=this._get(t,"timepicker");if(i){var n=i._defaults,s=e?e.getHours():n.hour,a=e?e.getMinutes():n.minute,o=e?e.getSeconds():n.second,r=e?e.getMilliseconds():n.millisec;(n.hourMin>s||s>n.hourMax||n.minuteMin>a||a>n.minuteMax||n.secondMin>o||o>n.secondMax||n.millisecMin>r||r>n.millisecMax)&&(s=n.hourMin,a=n.minuteMin,o=n.secondMin,r=n.millisecMin),i.hour=s,i.minute=a,i.second=o,i.millisec=r,i.hour_slider&&i.hour_slider.slider("value",s),i.minute_slider&&i.minute_slider.slider("value",a),i.second_slider&&i.second_slider.slider("value",o),i.millisec_slider&&i.millisec_slider.slider("value",r),i._onTimeChange(),i._updateDateTime(t)}},$.datepicker._setTimeDatepicker=function(t,e,i){var n=this._getInst(t),s=this._get(n,"timepicker");if(s){this._setDateFromField(n);var a;e&&("string"==typeof e?(s._parseTime(e,i),a=new Date,a.setHours(s.hour,s.minute,s.second,s.millisec)):a=new Date(e.getTime()),"Invalid Date"==a.toString()&&(a=void 0),this._setTime(n,a))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(t,e){var i=this._getInst(t),n=e instanceof Date?new Date(e.getTime()):e;this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(t,n,!0)},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(t,e){var i=this._getInst(t),n=this._get(i,"timepicker");if(n){this._setDateFromField(i,e);var s=this._getDate(i);return s&&n._parseTime($(t).val(),n.timeOnly)&&s.setHours(n.hour,n.minute,n.second,n.millisec),s}return this._base_getDateDatepicker(t,e)},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(t,e,i){var n;try{n=this._base_parseDate(t,e,i)}catch(s){n=this._base_parseDate(t,e.substring(0,e.length-(s.length-s.indexOf(":")-2)),i)}return n},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(t,e,i,n){var s=this._get(t,"timepicker");return s?(e&&this._base_formatDate(t,e,i,n),s._updateDateTime(t),s.$input.val()):this._base_formatDate(t)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(t,e,i){var n=this._getInst(t),s=this._get(n,"timepicker");if(s){var a,o,r;"string"==typeof e?"minDate"===e||"minDateTime"===e?a=i:"maxDate"===e||"maxDateTime"===e?o=i:"onSelect"===e&&(r=i):"object"==typeof e&&(e.minDate?a=e.minDate:e.minDateTime?a=e.minDateTime:e.maxDate?o=e.maxDate:e.maxDateTime&&(o=e.maxDateTime)),a?(a=0==a?new Date:new Date(a),s._defaults.minDate=a,s._defaults.minDateTime=a):o?(o=0==o?new Date:new Date(o),s._defaults.maxDate=o,s._defaults.maxDateTime=o):r&&(s._defaults.onSelect=r)}return void 0===i?this._base_optionDatepicker(t,e):this._base_optionDatepicker(t,e,i)},$.timepicker=new Timepicker,$.timepicker.version="0.9.8"}(jQuery),$(document).ready(function(){initialize_tabs()}),/*
  License:
  Jookie 1.0 jQuery Plugin

  Copyright (c) 2008 Jon Combe (http://joncom.be)

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation
  files (the "Software"), to deal in the Software without
  restriction, including without limitation the rights to use,
  copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the
  Software is furnished to do so, subject to the following
  conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
  OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
  HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
  WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
  OTHER DEALINGS IN THE SOFTWARE.
*/
function(t){function e(e){var i=/\+/g,s=unescape(String(n(e)).replace(i," "));alert("Name: "+e+"\nLifespan: "+t.Jookie.Data[e].iLifespan+" minutes\nCookie Existed Prior to Init: "+t.Jookie.Data[e].bMadeEarlier+"\n\n"+s)}function i(e){delete t.Jookie.Data[e],document.cookie=e+"=; expires="+new Date(1990,6,3).toGMTString()+"; path=/"}function n(t){var e=null,i=document.cookie.split(";");t+="=";for(var n in i){for(var s=i[n];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(t)){e=s.substring(t.length,s.length);break}}return e}function s(e,i){return t.Jookie.Data[e].oValues[i]}function a(e,i){if("undefined"==typeof t.Jookie.Data[e]){var s={},a=!1,r=n(e);null!==r&&(s=JSON.parse(unescape(String(r).replace(/\+/g," "))),a=!0),t.Jookie.Data[e]={iLifespan:i,bMadeEarlier:a,oValues:s},o(e)}}function o(e){var i="";if(t.Jookie.Data[e].iLifespan>0){var n=new Date;n.setMinutes(n.getMinutes()+t.Jookie.Data[e].iLifespan),i="; expires="+n.toGMTString()}document.cookie=e+"="+escape(JSON.stringify(t.Jookie.Data[e].oValues))+i+"; path=/"}function r(e,i,n){t.Jookie.Data[e].oValues[i]=n,o(e)}function l(e,i){delete t.Jookie.Data[e].oValues[i],o(e)}t.Jookie={Data:{},Debug:function(t){e(t)},Delete:function(t){i(t)},Get:function(t,e){return s(t,e)},Initialise:function(t,e){a(t,e)},Set:function(t,e,i){r(t,e,i)},Unset:function(t,e){l(t,e)}}}(jQuery),this.JSON||(JSON=function(){function f(t){return 10>t?"0"+t:t}function quote(t){return escapeable.lastIndex=0,escapeable.test(t)?'"'+t.replace(escapeable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+(+t.charCodeAt(0)).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,s,a,o,r=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"number"==typeof l.length&&!l.propertyIsEnumerable("length")){for(a=l.length,i=0;a>i;i+=1)o[i]=str(i,l)||"null";return s=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+r+"]":"["+o.join(",")+"]",gap=r,s}if(rep&&"object"==typeof rep)for(a=rep.length,i=0;a>i;i+=1)n=rep[i],"string"==typeof n&&(s=str(n,l,rep),s&&o.push(quote(n)+(gap?": ":":")+s));else for(n in l)Object.hasOwnProperty.call(l,n)&&(s=str(n,l,rep),s&&o.push(quote(n)+(gap?": ":":")+s));return s=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+r+"}":"{"+o.join(",")+"}",gap=r,s}}Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapeable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;return{stringify:function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})},parse:function(text,reviver){function walk(t,e){var i,n,s=t[e];if(s&&"object"==typeof s)for(i in s)Object.hasOwnProperty.call(s,i)&&(n=walk(s,i),void 0!==n?s[i]=n:delete s[i]);return reviver.call(t,e,s)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+(+t.charCodeAt(0)).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}}()),/*
 * jQuery Tools 1.2.2 - The missing UI library for the Web
 * 
 * [tooltip]
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 * File generated: Tue May 25 07:12:29 GMT 2010
 */
function(t){function e(t,e,i){var n=i.relative?t.position().top:t.offset().top,s=i.relative?t.position().left:t.offset().left,a=i.position[0];n-=e.outerHeight()-i.offset[0],s+=t.outerWidth()+i.offset[1];var o=e.outerHeight()+t.outerHeight();return"center"==a&&(n+=o/2),"bottom"==a&&(n+=o),a=i.position[1],t=e.outerWidth()+t.outerWidth(),"center"==a&&(s-=t/2),"left"==a&&(s-=t),{top:n,left:s}}function i(i,s){var a,o,r=this,l=i.add(r),c=0,u=0,d=i.attr("title"),h=n[s.effect],f=i.is(":input"),p=f&&i.is(":checkbox, :radio, select, :button"),m=i.attr("type"),g=s.events[m]||s.events[f?p?"widget":"input":"def"];if(!h)throw'Nonexistent effect "'+s.effect+'"';if(g=g.split(/,\s*/),2!=g.length)throw"Tooltip: bad events configuration for "+m;i.bind(g[0],function(t){s.predelay?(clearTimeout(c),u=setTimeout(function(){r.show(t)},s.predelay)):r.show(t)}).bind(g[1],function(t){s.delay?(clearTimeout(u),c=setTimeout(function(){r.hide(t)},s.delay)):r.hide(t)}),d&&s.cancelDefault&&(i.removeAttr("title"),i.data("title",d)),t.extend(r,{show:function(n){if(!a&&(d?a=t(s.layout).addClass(s.tipClass).appendTo(document.body).hide().append(d):s.tip?a=t(s.tip).eq(0):(a=i.next(),a.length||(a=i.parent().next())),!a.length))throw"Cannot find tooltip for "+i;if(r.isShown())return r;a.stop(!0,!0);var f=e(i,a,s);return n=n||t.Event(),n.type="onBeforeShow",l.trigger(n,[f]),n.isDefaultPrevented()?r:(f=e(i,a,s),a.css({position:"absolute",top:f.top,left:f.left}),o=!0,h[0].call(r,function(){n.type="onShow",o="full",l.trigger(n)}),f=s.events.tooltip.split(/,\s*/),a.bind(f[0],function(){clearTimeout(c),clearTimeout(u)}),f[1]&&!i.is("input:not(:checkbox, :radio), textarea")&&a.bind(f[1],function(t){t.relatedTarget!=i[0]&&i.trigger(g[1].split(" ")[0])}),r)},hide:function(e){return a&&r.isShown()?(e=e||t.Event(),e.type="onBeforeHide",l.trigger(e),e.isDefaultPrevented()?void 0:(o=!1,n[s.effect][1].call(r,function(){e.type="onHide",o=!1,l.trigger(e)}),r)):r},isShown:function(t){return t?"full"==o:o},getConf:function(){return s},getTip:function(){return a},getTrigger:function(){return i}}),t.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(e,i){t.isFunction(s[i])&&t(r).bind(i,s[i]),r[i]=function(e){return t(r).bind(i,e),r}})}t.tools=t.tools||{version:"1.2.2"},t.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(t,e,i){n[t]=[e,i]}};var n={toggle:[function(t){var e=this.getConf(),i=this.getTip();e=e.opacity,1>e&&i.css({opacity:e}),i.show(),t.call()},function(t){this.getTip().hide(),t.call()}],fade:[function(t){var e=this.getConf();this.getTip().fadeTo(e.fadeInSpeed,e.opacity,t)},function(t){this.getTip().fadeOut(this.getConf().fadeOutSpeed,t)}]};t.fn.tooltip=function(e){var n=this.data("tooltip");return n?n:(e=t.extend(!0,{},t.tools.tooltip.conf,e),"string"==typeof e.position&&(e.position=e.position.split(/,?\s/)),this.each(function(){n=new i(t(this),e),t(this).data("tooltip",n)}),e.api?n:this)}}(jQuery);/*
 * Foundation Responsive Library
 * http://foundation.zurb.com
 * Copyright 2013, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/
var libFuncName=null;if("undefined"==typeof jQuery&&"undefined"==typeof Zepto&&"function"==typeof $)libFuncName=$;else if("function"==typeof jQuery)libFuncName=jQuery;else{if("function"!=typeof Zepto)throw new TypeError;libFuncName=Zepto}(function(t){(function(){Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)try{throw new TypeError}catch(n){return}for(var s=[],a=arguments[1],o=0;i>o;o++)if(o in e){var r=e[o];t&&t.call(a,r,o,e)&&s.push(r)}return s},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},s=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,s.prototype=new n,s})),t.fn.stop=t.fn.stop||function(){return this}})(),function(e){"use strict";e.Foundation={name:"Foundation",version:"4.0.8",cache:{},init:function(t,e,i,n,s,a){var o,r=[t,i,n,s],l=[],a=a||!1;if(a&&(this.nc=a),this.scope=t||this.scope,e&&"string"==typeof e){if(/off/i.test(e))return this.off();if(o=e.split(" "),o.length>0)for(var c=o.length-1;c>=0;c--)l.push(this.init_lib(o[c],r))}else for(var u in this.libs)l.push(this.init_lib(u,r));return"function"==typeof e&&r.unshift(e),this.response_obj(l,r)},response_obj:function(t,e){for(var i in e)if("function"==typeof e[i])return e[i]({errors:t.filter(function(t){return"string"==typeof t?t:void 0})});return t},init_lib:function(t,e){return this.trap(function(){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),this.libs[t].init.apply(this.libs[t],e)):void 0}.bind(this),t)},trap:function(t,e){if(!this.nc)try{return t()}catch(i){return this.error({name:e,message:"could not be initialized",more:i.name+" "+i.message})}return t()},patch:function(t){this.fix_outer(t)},inherit:function(t,e){for(var i=e.split(" "),n=i.length-1;n>=0;n--)this.lib_methods.hasOwnProperty(i[n])&&(this.libs[t.name][i[n]]=this.lib_methods[i[n]])},random_str:function(t){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");t||(t=Math.floor(Math.random()*e.length));for(var i="",n=0;t>n;n++)i+=e[Math.floor(Math.random()*e.length)];return i},libs:{},lib_methods:{set_data:function(t,e){var i=[this.name,+new Date,Foundation.random_str(5)].join("-");return Foundation.cache[i]=e,t.attr("data-"+this.name+"-id",i),e},get_data:function(t){return Foundation.cache[t.attr("data-"+this.name+"-id")]},remove_data:function(e){e?(delete Foundation.cache[e.attr("data-"+this.name+"-id")],e.attr("data-"+this.name+"-id","")):t("[data-"+this.name+"-id]").each(function(){delete Foundation.cache[t(this).attr("data-"+this.name+"-id")],t(this).attr("data-"+this.name+"-id","")})},throttle:function(t,e){var i=null;return function(){var n=this,s=arguments;clearTimeout(i),i=setTimeout(function(){t.apply(n,s)},e)}},data_options:function(e){function i(t){return!isNaN(t-0)&&null!==t&&""!==t&&t!==!1&&t!==!0}function n(e){return"string"==typeof e?t.trim(e):e}var s,a,o={},r=(e.attr("data-options")||":").split(";"),l=r.length;for(s=l-1;s>=0;s--)a=r[s].split(":"),/true/i.test(a[1])&&(a[1]=!0),/false/i.test(a[1])&&(a[1]=!1),i(a[1])&&(a[1]=parseInt(a[1],10)),2===a.length&&a[0].length>0&&(o[n(a[0])]=n(a[1]));return o},delay:function(t,e){return setTimeout(t,e)},scrollTo:function(i,n,s){if(!(0>s)){var a=n-t(e).scrollTop(),o=10*(a/s);this.scrollToTimerCache=setTimeout(function(){isNaN(parseInt(o,10))||(e.scrollTo(0,t(e).scrollTop()+o),this.scrollTo(i,n,s-10))}.bind(this),10)}},scrollLeft:function(t){return t.length?"scrollLeft"in t[0]?t[0].scrollLeft:t[0].pageXOffset:void 0},empty:function(t){if(t.length&&t.length>0)return!1;if(t.length&&0===t.length)return!0;for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0}},fix_outer:function(t){t.outerHeight=function(t,e){return"function"==typeof Zepto?t.height():"undefined"!=typeof e?t.outerHeight(e):t.outerHeight()},t.outerWidth=function(t){return"function"==typeof Zepto?t.width():"undefined"!=typeof bool?t.outerWidth(bool):t.outerWidth()}},error:function(t){return t.name+" "+t.message+"; "+t.more},off:function(){return t(this.scope).off(".fndtn"),t(e).off(".fndtn"),!0},zj:function(){try{return Zepto}catch(t){return jQuery}}()},t.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(t)),this})}}(this,this.document)})(libFuncName),function(t){"use strict";Foundation.libs.alerts={name:"alerts",version:"4.0.0",settings:{speed:300,callback:function(){}},init:function(e,i,n){return this.scope=e||this.scope,"object"==typeof i&&t.extend(!0,this.settings,i),"string"!=typeof i?(this.settings.init||this.events(),this.settings.init):this[i].call(this,n)},events:function(){var e=this;t(this.scope).on("click.fndtn.alerts","[data-alert] a.close",function(i){i.preventDefault(),t(this).closest("[data-alert]").fadeOut(e.speed,function(){t(this).remove(),e.settings.callback()})}),this.settings.init=!0},off:function(){t(this.scope).off(".fndtn.alerts")}}}(Foundation.zj,this,this.document),function(t,e,i,n){"use strict";Foundation.libs.clearing={name:"clearing",version:"4.0.0",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><img src="//:0"><p class="clearing-caption"></p><a href="#" class="clearing-main-left"><span></span></a><a href="#" class="clearing-main-right"><span></span></a></div>'},close_selectors:".clearing-close",init:!1,locked:!1},init:function(e,i,n){return this.scope=this.scope||e,Foundation.inherit(this,"set_data get_data remove_data throttle"),"object"==typeof i&&(n=t.extend(!0,this.settings,i)),"string"!=typeof i?(t(this.scope).find("ul[data-clearing]").each(function(){var e=Foundation.libs.clearing,i=t(this),n=n||{},s=e.get_data(i);s||(n.$parent=i.parent(),e.set_data(i,t.extend(!0,e.settings,n)),e.assemble(i.find("li")),e.settings.init||e.events().swipe_events())}),this.settings.init):this[i].call(this,n)},events:function(){var i=this;return t(this.scope).on("click.fndtn.clearing","ul[data-clearing] li",function(e,n,s){var n=n||t(this),s=s||n,a=i.get_data(n.parent());e.preventDefault(),a||i.init(),i.open(t(e.target),n,s),i.update_paddles(s)}).on("click.fndtn.clearing",".clearing-main-right",function(t){this.nav(t,"next")}.bind(this)).on("click.fndtn.clearing",".clearing-main-left",function(t){this.nav(t,"prev")}.bind(this)).on("click.fndtn.clearing",this.settings.close_selectors,function(t){Foundation.libs.clearing.close(t,this)}).on("keydown.fndtn.clearing",function(t){this.keydown(t)}.bind(this)),t(e).on("resize.fndtn.clearing",function(){this.resize()}.bind(this)),this.settings.init=!0,this},swipe_events:function(){var e=this;t(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(e){e.touches||(e=e.originalEvent);var i={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:n};t(this).data("swipe-transition",i),e.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(i){if(i.touches||(i=i.originalEvent),!(i.touches.length>1||i.scale&&1!==i.scale)){var n=t(this).data("swipe-transition");if("undefined"==typeof n&&(n={}),n.delta_x=i.touches[0].pageX-n.start_page_x,"undefined"==typeof n.is_scrolling&&(n.is_scrolling=!!(n.is_scrolling||Math.abs(n.delta_x)<Math.abs(i.touches[0].pageY-n.start_page_y))),!n.is_scrolling&&!n.active){i.preventDefault();var s=0>n.delta_x?"next":"prev";n.active=!0,e.nav(i,s)}}}).on("touchend.fndtn.clearing",".visible-img",function(e){t(this).data("swipe-transition",{}),e.stopPropagation()})},assemble:function(t){var e=t.parent(),i=this.get_data(e),n=e.detach(),s={grid:'<div class="carousel">'+this.outerHTML(n[0])+"</div>",viewing:i.templates.viewing},a='<div class="clearing-assembled"><div>'+s.viewing+s.grid+"</div></div>";return i.$parent.append(a)},open:function(t,e,i){var n=i.closest(".clearing-assembled"),s=n.find("div").first(),a=s.find(".visible-img"),o=a.find("img").not(t);this.locked()||(o.attr("src",this.load(t)),this.loaded(o,function(){n.addClass("clearing-blackout"),s.addClass("clearing-container"),a.show(),this.fix_height(i).caption(a.find(".clearing-caption"),t).center(o).shift(e,i,function(){i.siblings().removeClass("visible"),i.addClass("visible")})}.bind(this)))},close:function(e,i){e.preventDefault();var n,s,a=function(t){return/blackout/.test(t.selector)?t:t.closest(".clearing-blackout")}(t(i));return i===e.target&&a&&(n=a.find("div").first(),s=n.find(".visible-img"),this.settings.prev_index=0,a.find("ul[data-clearing]").attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),n.removeClass("clearing-container"),s.hide()),!1},keydown:function(e){var i=t(".clearing-blackout").find("ul[data-clearing]");39===e.which&&this.go(i,"next"),37===e.which&&this.go(i,"prev"),27===e.which&&t("a.clearing-close").trigger("click")},nav:function(e,i){var n=t(".clearing-blackout").find("ul[data-clearing]");e.preventDefault(),this.go(n,i)},resize:function(){var e=t(".clearing-blackout .visible-img").find("img");e.length&&this.center(e)},fix_height:function(e){var i=e.parent().children(),n=this;return i.each(function(){var e=t(this),i=e.find("img");e.height()>n.outerHeight(i)&&e.addClass("fix-height")}).closest("ul").width(100*i.length+"%"),this},update_paddles:function(t){var e=t.closest(".carousel").siblings(".visible-img");t.next().length?e.find(".clearing-main-right").removeClass("disabled"):e.find(".clearing-main-right").addClass("disabled"),t.prev().length?e.find(".clearing-main-left").removeClass("disabled"):e.find(".clearing-main-left").addClass("disabled")},center:function(t){return t.css({marginLeft:-(this.outerWidth(t)/2),marginTop:-(this.outerHeight(t)/2)}),this},load:function(t){var e=t.parent().attr("href");return this.preload(t),e?e:t.attr("src")},preload:function(t){this.img(t.closest("li").next()).img(t.closest("li").prev())},loaded:function(t,e){function i(){e()}function n(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?(this.complete||4===this.readyState?i():n.call(t),void 0):(i(),void 0)},img:function(t){if(t.length){var e=new Image,i=t.find("a");e.src=i.length?i.attr("href"):t.find("img").attr("src")}return this},caption:function(t,e){var i=e.data("caption");return i?t.text(i).show():t.text("").hide(),this},go:function(t,e){var i=t.find(".visible"),n=i[e]();n.length&&n.find("img").trigger("click",[i,n])},shift:function(t,e,i){var n,s=e.parent(),a=this.settings.prev_index||e.index(),o=this.direction(s,t,e),r=parseInt(s.css("left"),10),l=this.outerWidth(e);e.index()===a||/skip/.test(o)?/skip/.test(o)&&(n=e.index()-this.settings.up_count,this.lock(),n>0?s.animate({left:-(n*l)},300,this.unlock()):s.animate({left:0},300,this.unlock())):/left/.test(o)?(this.lock(),s.animate({left:r+l},300,this.unlock())):/right/.test(o)&&(this.lock(),s.animate({left:r-l},300,this.unlock())),i()},direction:function(e,i,n){var s,a=e.find("li"),o=this.outerWidth(a)+this.outerWidth(a)/4,r=Math.floor(this.outerWidth(t(".clearing-container"))/o)-1,l=a.index(n);return this.settings.up_count=r,s=this.adjacent(this.settings.prev_index,l)?l>r&&l>this.settings.prev_index?"right":l>r-1&&this.settings.prev_index>=l?"left":!1:"skip",this.settings.prev_index=l,s},adjacent:function(t,e){for(var i=e+1;i>=e-1;i--)if(i===t)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},outerHTML:function(t){return t.outerHTML||(new XMLSerializer).serializeToString(t)},off:function(){t(this.scope).off(".fndtn.clearing"),t(e).off(".fndtn.clearing"),this.remove_data(),this.settings.init=!1}}}(Foundation.zj,this,this.document),/*!
 * jQuery Cookie Plugin v1.3
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 *
 * Modified to work with Zepto.js by ZURB
 */
function(t,e,i){function n(t){return t}function s(t){return decodeURIComponent(t.replace(a," "))}var a=/\+/g,o=t.cookie=function(a,r,l){if(r!==i){if(l=t.extend({},o.defaults,l),null===r&&(l.expires=-1),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setDate(u.getDate()+c)}return r=o.json?JSON.stringify(r):String(r),e.cookie=[encodeURIComponent(a),"=",o.raw?r:encodeURIComponent(r),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=o.raw?n:s,h=e.cookie.split("; "),f=0,p=h.length;p>f;f++){var m=h[f].split("=");if(d(m.shift())===a){var g=d(m.join("="));return o.json?JSON.parse(g):g}}return null};o.defaults={},t.removeCookie=function(e,i){return null!==t.cookie(e)?(t.cookie(e,null,i),!0):!1}}(Foundation.zj,document),function(t,e){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"4.0.9",settings:{activeClass:"open"},init:function(e,i,n){return this.scope=e||this.scope,Foundation.inherit(this,"throttle"),"object"==typeof i&&t.extend(!0,this.settings,i),"string"!=typeof i?(this.settings.init||this.events(),this.settings.init):this[i].call(this,n)},events:function(){var i=this;t(this.scope).on("click.fndtn.dropdown","[data-dropdown]",function(e){e.preventDefault(),e.stopPropagation(),i.toggle(t(this))}),t("*, html, body").on("click.fndtn.dropdown",function(e){t(e.target).data("dropdown")||t("[data-dropdown-content]").css("left","-99999px").removeClass(i.settings.activeClass)}),t(e).on("resize.fndtn.dropdown",i.throttle(function(){i.resize.call(i)},50)).trigger("resize"),this.settings.init=!0},toggle:function(e){var i=t("#"+e.data("dropdown"));t("[data-dropdown-content]").not(i).css("left","-99999px").removeClass(this.settings.activeClass),i.hasClass(this.settings.activeClass)?i.css("left","-99999px").removeClass(this.settings.activeClass):this.css(i.addClass(this.settings.activeClass),e)},resize:function(){var e=t("[data-dropdown-content].open"),i=t("[data-dropdown='"+e.attr("id")+"']");e.length&&i.length&&this.css(e,i)},css:function(i,n){if(i.parent()[0]===t("body")[0])var s=n.offset();else var s=n.position();if(this.small())i.css({position:"absolute",width:"95%",left:"2.5%","max-width":"none",top:s.top+this.outerHeight(n)});else{if(t(e).width()>this.outerWidth(i)+n.offset().left)var a=s.left;else{i.hasClass("right")||i.addClass("right");var a=s.left-(this.outerWidth(i)-this.outerWidth(n))}i.attr("style","").css({position:"absolute",top:s.top+this.outerHeight(n),left:a})}return i},small:function(){return 768>t(e).width()||t("html").hasClass("lt-ie9")},off:function(){t(this.scope).off(".fndtn.dropdown"),t("html, body").off(".fndtn.dropdown"),t(e).off(".fndtn.dropdown"),t("[data-dropdown-content]").off(".fndtn.dropdown"),this.settings.init=!1}}}(Foundation.zj,this,this.document),function(t,e,i,n){"use strict";Foundation.libs.forms={name:"forms",version:"4.0.4",settings:{disable_class:"no-custom"},init:function(e,i,n){return this.scope=e||this.scope,"object"==typeof i&&t.extend(!0,this.settings,i),"string"!=typeof i?(this.settings.init||this.events(),this.assemble(),this.settings.init):this[i].call(this,n)},assemble:function(){t('form.custom input[type="radio"]',t(this.scope)).not('[data-customforms="disabled"]').each(this.append_custom_markup),t('form.custom input[type="checkbox"]',t(this.scope)).not('[data-customforms="disabled"]').each(this.append_custom_markup),t("form.custom select",t(this.scope)).not('[data-customforms="disabled"]').each(this.append_custom_select)},events:function(){var e=this;t(this.scope).on("change.fndtn.forms",'form.custom select:not([data-customforms="disabled"])',function(){e.refresh_custom_select(t(this))}).on("click.fndtn.forms","form.custom label",function(i){var n,s,a=t("#"+e.escape(t(this).attr("for"))+':not([data-customforms="disabled"])');0!==a.length&&("checkbox"===a.attr("type")?(i.preventDefault(),n=t(this).find("span.custom.checkbox"),0==n.length&&(n=t(this).next("span.custom.checkbox")),0==n.length&&(n=t(this).prev("span.custom.checkbox")),e.toggle_checkbox(n)):"radio"===a.attr("type")&&(i.preventDefault(),s=t(this).find("span.custom.radio"),0==s.length&&(s=t(this).next("span.custom.radio")),0==s.length&&(s=t(this).prev("span.custom.radio")),e.toggle_radio(s)))}).on("click.fndtn.forms","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(i){var n=t(this),s=n.closest("div.custom.dropdown"),a=s.prev();return s.hasClass("open")||t(e.scope).trigger("click"),i.preventDefault(),!1===a.is(":disabled")?(s.toggleClass("open"),s.hasClass("open")?t(e.scope).on("click.fndtn.forms.customdropdown",function(){s.removeClass("open"),t(e.scope).off(".fndtn.forms.customdropdown")}):t(e.scope).on(".fndtn.forms.customdropdown"),!1):void 0}).on("click.fndtn.forms touchend.fndtn.forms","form.custom div.custom.dropdown li",function(e){var i=t(this),n=i.closest("div.custom.dropdown"),s=n.prev(),a=0;if(e.preventDefault(),e.stopPropagation(),!t(this).hasClass("disabled")){t("div.dropdown").not(n).removeClass("open");var o=i.closest("ul").find("li.selected");o.removeClass("selected"),i.addClass("selected"),n.removeClass("open").find("a.current").html(i.html()),i.closest("ul").find("li").each(function(t){i[0]==this&&(a=t)}),s[0].selectedIndex=a,s.data("prevalue",o.html()),s.trigger("change")}}),this.settings.init=!0},append_custom_markup:function(e,i){var n=t(i).hide(),s=n.attr("type"),a=n.next("span.custom."+s);0===a.length&&(a=t('<span class="custom '+s+'"></span>').insertAfter(n)),a.toggleClass("checked",n.is(":checked")),a.toggleClass("disabled",n.is(":disabled"))},append_custom_select:function(e,i){var n,s=Foundation.libs.forms,a=t(i),o=a.next("div.custom.dropdown"),r=o.find("ul"),l=(o.find(".current"),o.find(".selector")),c=a.find("option"),u=c.filter(":selected"),d=a.attr("class")?a.attr("class").split(" "):[],h=0,f="",p=!1;if(!a.hasClass(s.settings.disable_class)){if(0===o.length){var m=a.hasClass("small")?"small":a.hasClass("medium")?"medium":a.hasClass("large")?"large":a.hasClass("expand")?"expand":"";o=t('<div class="'+["custom","dropdown",m].concat(d).filter(function(t,e,i){return""==t?!1:i.indexOf(t)==e}).join(" ")+'"><a href="#" class="selector"></a><ul /></div>'),l=o.find(".selector"),r=o.find("ul"),f=c.map(function(){return"<li>"+t(this).html()+"</li>"}).get().join(""),r.append(f),p=o.prepend('<a href="#" class="current">'+u.html()+"</a>").find(".current"),a.after(o).hide()}else f=c.map(function(){return"<li>"+t(this).html()+"</li>"}).get().join(""),r.html("").append(f);if(o.toggleClass("disabled",a.is(":disabled")),n=r.find("li"),c.each(function(e){this.selected&&(n.eq(e).addClass("selected"),p&&p.html(t(this).html())),t(this).is(":disabled")&&n.eq(e).addClass("disabled")}),!o.is(".small, .medium, .large, .expand")){o.addClass("open");var s=Foundation.libs.forms;s.hidden_fix.adjust(r),h=s.outerWidth(n)>h?s.outerWidth(n):h,Foundation.libs.forms.hidden_fix.reset(),o.removeClass("open")}}},refresh_custom_select:function(e){var i=this,n=0,s=e.next(),a=e.find("option");s.find("ul").html(""),a.each(function(){var e=t("<li>"+t(this).html()+"</li>");s.find("ul").append(e)}),a.each(function(e){this.selected&&(s.find("li").eq(e).addClass("selected"),s.find(".current").html(t(this).html())),t(this).is(":disabled")&&s.find("li").eq(e).addClass("disabled")}),s.removeAttr("style").find("ul").removeAttr("style"),s.find("li").each(function(){s.addClass("open"),i.outerWidth(t(this))>n&&(n=i.outerWidth(t(this))),s.removeClass("open")})},toggle_checkbox:function(t){var e=t.prev(),i=e[0];!1===e.is(":disabled")&&(i.checked=i.checked?!1:!0,t.toggleClass("checked"),e.trigger("change"))},toggle_radio:function(t){var e=t.prev(),i=e.closest("form.custom"),n=e[0];!1===e.is(":disabled")&&(i.find('input[type="radio"][name="'+this.escape(e.attr("name"))+'"]').next().not(t).removeClass("checked"),t.hasClass("checked")||t.toggleClass("checked"),n.checked=t.hasClass("checked"),e.trigger("change"))},escape:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},hidden_fix:{tmp:[],hidden:null,adjust:function(e){var i=this;i.hidden=e.parents().andSelf().filter(":hidden"),i.hidden.each(function(){var e=t(this);i.tmp.push(e.attr("style")),e.css({visibility:"hidden",display:"block"})})},reset:function(){var e=this;e.hidden.each(function(i){var s=t(this),a=e.tmp[i];a===n?s.removeAttr("style"):s.attr("style",a)}),e.tmp=[],e.hidden=null}},off:function(){t(this.scope).off(".fndtn.forms")}}}(Foundation.zj,this,this.document),function(t,e,i,n){"use strict";Foundation.libs.joyride={name:"joyride",version:"4.0.0",defaults:{tipLocation:"bottom",nubPosition:"auto",scrollSpeed:300,timer:0,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,cookieExpires:365,tipContainer:"body",postRideCallback:function(){},postStepCallback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>'}},settings:{},init:function(e,i,n){return this.scope=e||this.scope,Foundation.inherit(this,"throttle data_options scrollTo scrollLeft delay"),"object"==typeof i?t.extend(!0,this.settings,this.defaults,i):t.extend(!0,this.settings,this.defaults,n),"string"!=typeof i?(this.settings.init||this.events(),this.settings.init):this[i].call(this,n)},events:function(){var i=this;t(this.scope).on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(t){t.preventDefault(),1>this.settings.$li.next().length?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())}.bind(this)).on("click.joyride",".joyride-close-tip",function(t){t.preventDefault(),this.end()}.bind(this)),t(e).on("resize.fndtn.joyride",i.throttle(function(){t("[data-joyride]").length>0&&i.settings.$next_tip&&(i.is_phone()?i.pos_phone():i.pos_default())},100)),this.settings.init=!0},start:function(){var e=this,i=t(this.scope).find("[data-joyride]"),n=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],s=n.length;this.settings.init||this.init(),this.settings.$content_el=i,this.settings.body_offset=t(this.settings.tipContainer).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},"function"!=typeof t.cookie&&(this.settings.cookieMonster=!1),(!this.settings.cookieMonster||this.settings.cookieMonster&&null===t.cookie(this.settings.cookieName))&&(this.settings.$tip_content.each(function(i){var a=t(this);t.extend(!0,e.settings,e.data_options(a));for(var o=s-1;o>=0;o--)e.settings[n[o]]=parseInt(e.settings[n[o]],10);e.create({$li:a,index:i})}),!this.settings.startTimerOnClick&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init"))},resume:function(){this.set_li(),this.show()},tip_template:function(e){var i,n;return e.tip_class=e.tip_class||"",i=t(this.settings.template.tip).addClass(e.tip_class),n=t.trim(t(e.li).html())+this.button_text(e.button_text)+this.settings.template.link+this.timer_instance(e.index),i.append(t(this.settings.template.wrapper)),i.first().attr("data-index",e.index),t(".joyride-content-wrapper",i).append(n),i[0]},timer_instance:function(e){var i;return i=0===e&&this.settings.startTimerOnClick&&this.settings.timer>0||0===this.settings.timer?"":this.outerHTML(t(this.settings.template.timer)[0])},button_text:function(e){return this.settings.nextButton?(e=t.trim(e)||"Next",e=this.outerHTML(t(this.settings.template.button).append(e)[0])):e="",e},create:function(e){var i=e.$li.attr("data-button")||e.$li.attr("data-text"),n=e.$li.attr("class"),s=t(this.tip_template({tip_class:n,index:e.index,button_text:i,li:e.$li}));t(this.settings.tipContainer).append(s)},show:function(e){var i=null;this.settings.$li===n||-1===t.inArray(this.settings.$li.index(),this.settings.pauseAfter)?(this.settings.paused?this.settings.paused=!1:this.set_li(e),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0?(this.settings.tipSettings=t.extend(this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tipSettings.tipLocationPattern=this.settings.tipLocationPatterns[this.settings.tipSettings.tipLocation],/body/i.test(this.settings.$target.selector)||this.scroll_to(),this.is_phone()?this.pos_phone(!0):this.pos_default(!0),i=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tipAnimation)?(i.width(0),thsi.settings.timer>0?(this.settings.$next_tip.show(),this.delay(function(){i.animate({width:i.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tipAnimationFadeSpeed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tipAnimation)&&(i.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tipAnimationFadeSpeed).show(),this.delay(function(){i.animate({width:i.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tipAnimationFadeSpeed)):this.settings.$next_tip.fadeIn(this.settings.tipAnimationFadeSpeed)),this.settings.$current_tip=this.settings.$next_tip):this.settings.$li&&1>this.settings.$target.length?this.show():this.end()):this.settings.paused=!0},is_phone:function(){return Modernizr?Modernizr.mq("only screen and (max-width: 767px)")||t(".lt-ie9").length>0:767>this.settings.$window.width()?!0:!1},hide:function(){this.settings.postStepCallback(this.settings.$li.index(),this.settings.$current_tip),t(".joyride-modal-bg").hide(),this.settings.$current_tip.hide()},set_li:function(t){t?(this.settings.$li=this.settings.$tip_content.eq(this.settings.startOffset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=t(".joyride-tip-guide[data-index='"+this.settings.$li.index()+"']"),this.settings.$next_tip.data("closed","")},set_target:function(){var e=this.settings.$li.attr("data-class"),n=this.settings.$li.attr("data-id"),s=function(){return n?t(i.getElementById(n)):e?t("."+e).first():t("body")};this.settings.$target=s()},scroll_to:function(){var i,n;i=t(e).height()/2,n=Math.ceil(this.settings.$target.offset().top-i+this.outerHeight(this.settings.$next_tip)),n>0&&this.scrollTo(t("html, body"),n,this.settings.scrollSpeed)},paused:function(){return-1===t.inArray(this.settings.$li.index()+1,this.settings.pauseAfter)?!0:!1},restart:function(){this.hide(),this.settings.$li=n,this.show("init")},pos_default:function(i){var n=(Math.ceil(t(e).height()/2),this.settings.$next_tip.offset(),this.settings.$next_tip.find(".joyride-nub")),s=Math.ceil(this.outerHeight(n)/2),a=i||!1;a&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(n):(this.bottom()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+s+this.outerHeight(this.settings.$target),left:this.settings.$target.offset().left}),this.nub_position(n,this.settings.tipSettings.nubPosition,"top")):this.top()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.outerHeight(this.settings.$next_tip)-s,left:this.settings.$target.offset().left}),this.nub_position(n,this.settings.tipSettings.nubPosition,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.outerWidth(this.settings.$target)+this.settings.$target.offset().left}),this.nub_position(n,this.settings.tipSettings.nubPosition,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:this.settings.$target.offset().left-this.outerWidth(this.settings.$next_tip)-s}),this.nub_position(n,this.settings.tipSettings.nubPosition,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tipSettings.tipLocationPattern.length&&(n.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tipSettings.tipLocation=this.settings.tipSettings.tipLocationPattern[this.settings.attempts],this.settings.attempts++,this.pos_default(!0))),a&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(e){var i=this.outerHeight(this.settings.$next_tip),n=(this.settings.$next_tip.offset(),this.outerHeight(this.settings.$target)),s=t(".joyride-nub",this.settings.$next_tip),a=Math.ceil(this.outerHeight(s)/2),o=e||!1;s.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),o&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(s):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-i-a}),s.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+n+a}),s.addClass("top")),o&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(e){this.center(),e.hide(),this.settings.$next_tip.data("closed")||(1>t(".joyride-modal-bg").length&&t("body").append('<div class="joyride-modal-bg">').show(),/pop/i.test(this.settings.tipAnimation)?t(".joyride-modal-bg").show():t(".joyride-modal-bg").fadeIn(this.settings.tipAnimationFadeSpeed))},center:function(){var i=t(e);return this.settings.$next_tip.css({top:(i.height()-this.outerHeight(this.settings.$next_tip))/2+i.scrollTop(),left:(i.width()-this.outerWidth(this.settings.$next_tip))/2+this.scrollLeft(i)}),!0},bottom:function(){return/bottom/i.test(this.settings.tipSettings.tipLocation)},top:function(){return/top/i.test(this.settings.tipSettings.tipLocation)},right:function(){return/right/i.test(this.settings.tipSettings.tipLocation)},left:function(){return/left/i.test(this.settings.tipSettings.tipLocation)},corners:function(i){var n=t(e),s=n.width()+this.scrollLeft(n),a=n.width()+n.scrollTop();return[i.offset().top<=n.scrollTop(),i.offset().left+this.outerWidth(i)>=s,i.offset().top+this.outerHeight(i)>=a,this.scrollLeft(n)>=i.offset().left]},visible:function(t){for(var e=t.length;e--;)if(t[e])return!1;return!0},nub_position:function(t,e,i){"auto"===e?t.addClass(i):t.addClass(e)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(){this.settings.cookieMonster&&t.cookie(this.settings.cookieName,"ridden",{expires:this.settings.cookieExpires,domain:this.settings.cookieDomain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.$next_tip.data("closed",!0),t(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),this.settings.postStepCallback(this.settings.$li.index(),this.settings.$current_tip),this.settings.postRideCallback(this.settings.$li.index(),this.settings.$current_tip)},outerHTML:function(t){return t.outerHTML||(new XMLSerializer).serializeToString(t)},off:function(){t(this.scope).off(".joyride"),t(e).off(".joyride"),t(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),t(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}}}}(Foundation.zj,this,this.document),function(t,e){"use strict";Foundation.libs.magellan={name:"magellan",version:"4.0.0",settings:{activeClass:"active"},init:function(e,i,n){return this.scope=e||this.scope,Foundation.inherit(this,"data_options"),"object"==typeof i&&t.extend(!0,this.settings,i),"string"!=typeof i?(this.settings.init||(this.fixed_magellan=t("[data-magellan-expedition]"),this.set_threshold(),this.last_destination=t("[data-magellan-destination]").last(),this.events()),this.settings.init):this[i].call(this,n)},events:function(){var i=this;t(this.scope).on("arrival.fndtn.magellan","[data-magellan-arrival]",function(){var e=t(this),n=e.closest("[data-magellan-expedition]"),s=n.attr("data-magellan-active-class")||i.settings.activeClass;e.closest("[data-magellan-expedition]").find("[data-magellan-arrival]").not(e).removeClass(s),e.addClass(s)}),this.fixed_magellan.on("update-position.fndtn.magellan",function(){t(this)}).trigger("update-position"),t(e).on("resize.fndtn.magellan",function(){this.fixed_magellan.trigger("update-position")}.bind(this)).on("scroll.fndtn.magellan",function(){var n=t(e).scrollTop();i.fixed_magellan.each(function(){var e=t(this);"undefined"==typeof e.data("magellan-top-offset")&&e.data("magellan-top-offset",e.offset().top),"undefined"==typeof e.data("magellan-fixed-position")&&e.data("magellan-fixed-position",!1);var s=n+i.settings.threshold>e.data("magellan-top-offset"),a=e.attr("data-magellan-top-offset");e.data("magellan-fixed-position")!=s&&(e.data("magellan-fixed-position",s),s?e.css({position:"fixed",top:0}):e.css({position:"",top:""}),s&&"undefined"!=typeof a&&0!=a&&e.css({position:"fixed",top:a+"px"}))})}),this.last_destination.length>0&&t(e).on("scroll.fndtn.magellan",function(){var n=t(e).scrollTop(),s=n+t(e).height(),a=Math.ceil(i.last_destination.offset().top);t("[data-magellan-destination]").each(function(){var e=t(this),o=e.attr("data-magellan-destination"),r=e.offset().top-n;i.settings.threshold>=r&&t("[data-magellan-arrival='"+o+"']").trigger("arrival"),s>=t(i.scope).height()&&a>n&&s>a&&t("[data-magellan-arrival]").last().trigger("arrival")})}),this.settings.init=!0},set_threshold:function(){this.settings.threshold||(this.settings.threshold=this.fixed_magellan.length>0?this.outerHeight(this.fixed_magellan,!0):0)},off:function(){t(this.scope).off(".fndtn.magellan")}}}(Foundation.zj,this,this.document),function(t,e,i,n){"use strict";Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"4.0.0",settings:{timer_speed:1e4,animation_speed:500,bullets:!0,stack_on_small:!0,container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning"},init:function(e,i){var n=this;Foundation.inherit(n,"data_options"),"object"==typeof i&&t.extend(!0,n.settings,i),t("[data-orbit]",e).each(function(e,i){var s=t.extend(!0,{},n);s._init(e,i)})},_container_html:function(){var t=this;return'<div class="'+t.settings.container_class+'"></div>'},_bullets_container_html:function(e){var i=this,n=t('<ol class="'+i.settings.bullets_container_class+'"></ol>');return e.each(function(e){var s=t('<li data-orbit-slide-number="'+(e+1)+'" class=""></li>');0===e&&s.addClass(i.settings.bullets_active_class),n.append(s)}),n},_slide_number_html:function(e,i){var n=this,s=t('<div class="'+n.settings.slide_number_class+'"></div>');return s.append("<span>"+e+"</span> of <span>"+i+"</span>"),s},_timer_html:function(){var t=this;return"number"==typeof t.settings.timer_speed&&t.settings.timer_speed>0?'<div class="'+t.settings.timer_container_class+'"><span></span><div class="'+t.settings.timer_progress_class+'"></div></div>':""},_next_html:function(){var t=this;return'<a href="#" class="'+t.settings.next_class+'">Next <span></span></a>'},_prev_html:function(){var t=this;return'<a href="#" class="'+t.settings.prev_class+'">Prev <span></span></a>'},_init:function(e,i){var n=this,s=t(i),a=s.wrap(n._container_html()).parent(),o=s.children();t.extend(!0,n.settings,n.data_options(s)),a.append(n._prev_html()),a.append(n._next_html()),s.addClass(n.settings.slides_container_class),n.settings.stack_on_small&&a.addClass(n.settings.stack_on_small_class),a.append(n._slide_number_html(1,o.length)),a.append(n._timer_html()),n.settings.bullets&&a.after(n._bullets_container_html(o)),s.append(o.first().clone().attr("data-orbit-slide","")),s.prepend(o.last().clone().attr("data-orbit-slide","")),s.css("marginLeft","-100%"),o.first().addClass(n.settings.active_slide_class),n._init_events(s),n._init_dimensions(s),n._start_timer(s)},_init_events:function(s){var a=this,o=s.parent();t(e).on("load.fndtn.orbit",function(){s.height(""),s.height(s.height(o.height())),s.trigger("orbit:ready")}).on("resize.fndtn.orbit",function(){s.height(""),s.height(s.height(o.height()))}),t(i).on("click.fndtn.orbit","[data-orbit-link]",function(e){e.preventDefault();var i=t(e.currentTarget).attr("data-orbit-link"),n=s.find("[data-orbit-slide="+i+"]").first();1===n.length&&(a._reset_timer(s,!0),a._goto(s,n.index(),function(){}))}),o.siblings("."+a.settings.bullets_container_class).on("click.fndtn.orbit","[data-orbit-slide-number]",function(e){e.preventDefault(),a._reset_timer(s,!0),a._goto(s,t(e.currentTarget).data("orbit-slide-number"),function(){})}),o.on("orbit:after-slide-change.fndtn.orbit",function(t,e){var i=o.find("."+a.settings.slide_number_class);1===i.length&&i.replaceWith(a._slide_number_html(e.slide_number,e.total_slides))}).on("orbit:next-slide.fndtn.orbit click.fndtn.orbit","."+a.settings.next_class,function(t){t.preventDefault(),a._reset_timer(s,!0),a._goto(s,"next",function(){})}).on("orbit:prev-slide.fndtn.orbit click.fndtn.orbit","."+a.settings.prev_class,function(t){t.preventDefault(),a._reset_timer(s,!0),a._goto(s,"prev",function(){})}).on("orbit:toggle-play-pause.fndtn.orbit click.fndtn.orbit touchstart.fndtn.orbit","."+a.settings.timer_container_class,function(e){e.preventDefault();var i=t(e.currentTarget).toggleClass(a.settings.timer_paused_class),n=i.closest("."+a.settings.container_class).find("."+a.settings.slides_container_class);i.hasClass(a.settings.timer_paused_class)?a._stop_timer(n):a._start_timer(n)}).on("touchstart.fndtn.orbit",function(t){t.touches||(t=t.originalEvent);var e={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:n};o.data("swipe-transition",e),t.stopPropagation()}).on("touchmove.fndtn.orbit",function(t){if(t.touches||(t=t.originalEvent),!(t.touches.length>1||t.scale&&1!==t.scale)){var e=o.data("swipe-transition");if("undefined"==typeof e&&(e={}),e.delta_x=t.touches[0].pageX-e.start_page_x,"undefined"==typeof e.is_scrolling&&(e.is_scrolling=!!(e.is_scrolling||Math.abs(e.delta_x)<Math.abs(t.touches[0].pageY-e.start_page_y))),!e.is_scrolling&&!e.active){t.preventDefault(),a._stop_timer(s);var i=0>e.delta_x?"next":"prev";e.active=!0,a._goto(s,i,function(){})}}}).on("touchend.fndtn.orbit",function(t){o.data("swipe-transition",{}),t.stopPropagation()})},_init_dimensions:function(t){var e=t.parent(),i=t.children();t.css("width",100*i.length+"%"),i.css("width",100/i.length+"%"),t.height(e.height()),t.css("width",100*i.length+"%")},_start_timer:function(t){var e=this,i=t.parent(),n=function(){e._reset_timer(t,!1),e._goto(t,"next",function(){e._start_timer(t)})},s=i.find("."+e.settings.timer_container_class),a=s.find("."+e.settings.timer_progress_class),o=a.width()/s.width(),r=e.settings.timer_speed-o*e.settings.timer_speed;a.animate({width:"100%"},r,"linear",n),t.trigger("orbit:timer-started")},_stop_timer:function(t){var e=this,i=t.parent(),n=i.find("."+e.settings.timer_container_class),s=n.find("."+e.settings.timer_progress_class),a=s.width()/n.width();e._rebuild_timer(i,100*a+"%"),t.trigger("orbit:timer-stopped"),n=i.find("."+e.settings.timer_container_class),n.addClass(e.settings.timer_paused_class)},_reset_timer:function(t,e){var i=this,n=t.parent();if(i._rebuild_timer(n,"0%"),"boolean"==typeof e&&e){var s=n.find("."+i.settings.timer_container_class);s.addClass(i.settings.timer_paused_class)}},_rebuild_timer:function(e,i){var n=this,s=e.find("."+n.settings.timer_container_class),a=t(n._timer_html()),o=a.find("."+n.settings.timer_progress_class);if("function"==typeof Zepto)s.remove(),e.append(a),o.css("width",i);else if("function"==typeof jQuery){var r=s.find("."+n.settings.timer_progress_class);r.css("width",i),r.stop()}},_goto:function(e,i,n){var s=this,a=e.parent(),o=e.children(),r=e.find("."+s.settings.active_slide_class),l=r.index();if(a.hasClass(s.settings.orbit_transition_class))return!1;"prev"===i?0===l?l=o.length-1:l--:"next"===i?l=(l+1)%o.length:"number"==typeof i&&(l=i%o.length),l===o.length-1&&"next"===i?(e.css("marginLeft","0%"),l=1):0===l&&"prev"===i&&(e.css("marginLeft","-"+100*(o.length-1)+"%"),l=o.length-2),a.addClass(s.settings.orbit_transition_class),r.removeClass(s.settings.active_slide_class),t(o[l]).addClass(s.settings.active_slide_class);var c=a.siblings("."+s.settings.bullets_container_class);1===c.length&&(c.children().removeClass(s.settings.bullets_active_class),t(c.children()[l-1]).addClass(s.settings.bullets_active_class));var u="-"+100*l+"%";e.trigger("orbit:before-slide-change"),e.css("marginLeft")===u?(a.removeClass(s.settings.orbit_transition_class),e.trigger("orbit:after-slide-change",[{slide_number:l,total_slides:e.children().length-2}]),n()):e.animate({marginLeft:u},s.settings.animation_speed,"linear",function(){a.removeClass(s.settings.orbit_transition_class),e.trigger("orbit:after-slide-change",[{slide_number:l,total_slides:e.children().length-2}]),n()})}}}(Foundation.zj,this,this.document),function(t,e,i){function n(t){var e={},n=/^jQuery\d+$/;return i.each(t.attributes,function(t,i){i.specified&&!n.test(i.name)&&(e[i.name]=i.value)}),e}function s(t,n){var s=this,a=i(s);if(s.value==a.attr("placeholder")&&a.hasClass("placeholder"))if(a.data("placeholder-password")){if(a=a.hide().next().show().attr("id",a.removeAttr("id").data("placeholder-id")),t===!0)return a[0].value=n;a.focus()}else s.value="",a.removeClass("placeholder"),s==e.activeElement&&s.select()}function a(){var t,e=this,a=i(e),o=this.id;if(""==e.value){if("password"==e.type){if(!a.data("placeholder-textinput")){try{t=a.clone().attr({type:"text"})}catch(r){t=i("<input>").attr(i.extend(n(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":o}).bind("focus.placeholder",s),a.data({"placeholder-textinput":t,"placeholder-id":o}).before(t)}a=a.removeAttr("id").hide().prev().attr("id",o).show()}a.addClass("placeholder"),a[0].value=a.attr("placeholder")}else a.removeClass("placeholder")}var o,r,l="placeholder"in e.createElement("input"),c="placeholder"in e.createElement("textarea"),u=i.fn,d=i.valHooks;l&&c?(r=u.placeholder=function(){return this},r.input=r.textarea=!0):(r=u.placeholder=function(){var t=this;return t.filter((l?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":s,"blur.placeholder":a}).data("placeholder-enabled",!0).trigger("blur.placeholder"),t},r.input=l,r.textarea=c,o={get:function(t){var e=i(t);return e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,n){var o=i(t);return o.data("placeholder-enabled")?(""==n?(t.value=n,t!=e.activeElement&&a.call(t)):o.hasClass("placeholder")?s.call(t,!0,n)||(t.value=n):t.value=n,o):t.value=n}},l||(d.input=o),c||(d.textarea=o),i(function(){i(e).delegate("form","submit.placeholder",function(){var t=i(".placeholder",this).each(s);setTimeout(function(){t.each(a)},10)})}),i(t).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))}(this,document,Foundation.zj),function(t,e){"use strict";Foundation.libs.reveal={name:"reveal",version:"4.0.9",locked:!1,settings:{animation:"fadeAndPop",animationSpeed:250,closeOnBackgroundClick:!0,dismissModalClass:"close-reveal-modal",bgClass:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:t(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,i,n){return this.scope=e||this.scope,Foundation.inherit(this,"data_options delay"),"object"==typeof i&&t.extend(!0,this.settings,i),"string"!=typeof i?(this.events(),this.settings.init):this[i].call(this,n)},events:function(){var e=this;return t(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal","[data-reveal-id]",function(i){i.preventDefault(),e.locked||(e.locked=!0,e.open.call(e,t(this)))
}).on("click.fndtn.reveal touchend.click.fndtn.reveal",this.close_targets(),function(i){i.preventDefault(),e.locked||(e.locked=!0,e.close.call(e,t(this).closest(".reveal-modal")))}).on("open.fndtn.reveal",".reveal-modal",this.settings.open).on("opened.fndtn.reveal",".reveal-modal",this.settings.opened).on("opened.fndtn.reveal",".reveal-modal",this.open_video).on("close.fndtn.reveal",".reveal-modal",this.settings.close).on("closed.fndtn.reveal",".reveal-modal",this.settings.closed).on("closed.fndtn.reveal",".reveal-modal",this.close_video),!0},open:function(e){if(e)var i=t("#"+e.data("reveal-id"));else var i=t(this.scope);if(!i.hasClass("open")){var n=t(".reveal-modal.open");"undefined"==typeof i.data("css-top")&&i.data("css-top",parseInt(i.css("top"),10)).data("offset",this.cache_offset(i)),i.trigger("open"),1>n.length&&this.toggle_bg(i),this.hide(n,this.settings.css.open),this.show(i,this.settings.css.open)}},close:function(e){var e=e||t(this.scope),i=t(".reveal-modal.open");i.length>0&&(this.locked=!0,e.trigger("close"),this.toggle_bg(e),this.hide(i,this.settings.css.close))},close_targets:function(){var t="."+this.settings.dismissModalClass;return this.settings.closeOnBackgroundClick?t+", ."+this.settings.bgClass:t},toggle_bg:function(e){0===t(".reveal-modal-bg").length&&(this.settings.bg=t("<div />",{"class":this.settings.bgClass}).insertAfter(e)),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(i,n){if(n){if(/pop/i.test(this.settings.animation)){n.top=t(e).scrollTop()-i.data("offset")+"px";var s={top:t(e).scrollTop()+i.data("css-top")+"px",opacity:1};return this.delay(function(){return i.css(n).animate(s,this.settings.animationSpeed,"linear",function(){this.locked=!1,i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var s={opacity:1};return this.delay(function(){return i.css(n).animate(s,this.settings.animationSpeed,"linear",function(){this.locked=!1,i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}return i.css(n).show().css({opacity:1}).addClass("open").trigger("opened")}return/fade/i.test(this.settings.animation)?i.fadeIn(this.settings.animationSpeed/2):i.show()},hide:function(i,n){if(n){if(/pop/i.test(this.settings.animation)){var s={top:-t(e).scrollTop()-i.data("offset")+"px",opacity:0};return this.delay(function(){return i.animate(s,this.settings.animationSpeed,"linear",function(){this.locked=!1,i.css(n).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var s={opacity:0};return this.delay(function(){return i.animate(s,this.settings.animationSpeed,"linear",function(){this.locked=!1,i.css(n).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}return i.hide().css(n).removeClass("open").trigger("closed")}return/fade/i.test(this.settings.animation)?i.fadeOut(this.settings.animationSpeed/2):i.hide()},close_video:function(){var e=t(this).find(".flex-video"),i=e.find("iframe");i.length>0&&(i.attr("data-src",i[0].src),i.attr("src","about:blank"),e.fadeOut(100).hide())},open_video:function(){var e=t(this).find(".flex-video"),i=e.find("iframe");if(i.length>0){var n=i.attr("data-src");"string"==typeof n&&(i[0].src=i.attr("data-src")),e.show().fadeIn(100)}},cache_offset:function(t){var e=t.show().height()+parseInt(t.css("top"),10);return t.hide(),e},off:function(){t(this.scope).off(".fndtn.reveal")}}}(Foundation.zj,this,this.document),function(t,e,i){"use strict";Foundation.libs.section={name:"section",version:"4.0.9",settings:{deep_linking:!1,one_up:!0,callback:function(){}},init:function(t,e,i){return this.scope=t||this.scope,Foundation.inherit(this,"throttle data_options"),"string"!=typeof e?(this.set_active_from_hash(),this.events(),!0):this[e].call(this,i)},events:function(){var n=this;t(this.scope).on("click.fndtn.section","[data-section] .title",function(e){var i=t(this);i.closest("[data-section]"),n.toggle_active.call(this,e,n)}),t(e).on("resize.fndtn.section",n.throttle(function(){n.resize.call(this)},30)).on("hashchange",function(){n.settings.toggled||(n.set_active_from_hash(),t(this).trigger("resize"))}).trigger("resize"),t(i).on("click.fndtn.section",function(e){1>t(e.target).closest(".title").length&&t('[data-section="vertical-nav"], [data-section="horizontal-nav"]').find("section, .section").removeClass("active").attr("style","")})},toggle_active:function(e,i){var n=t(this),s=n.closest("section, .section"),a=s.find(".content"),o=s.closest("[data-section]"),i=Foundation.libs.section,r=t.extend({},i.settings,i.data_options(o));if(i.settings.toggled=!0,!r.deep_linking&&a.length>0&&e.preventDefault(),s.hasClass("active"))(i.small(o)||i.is_vertical(o)||i.is_horizontal(o)||i.is_accordion(o))&&s.removeClass("active").attr("style","");else{var l=null,c=i.outerHeight(s.find(".title"));(i.small(o)||r.one_up)&&(l=n.closest("[data-section]").find("section.active, .section.active"),i.small(o)?l.attr("style",""):l.attr("style","visibility: hidden; padding-top: "+c+"px;")),i.small(o)?s.attr("style",""):s.css("padding-top",c),s.addClass("active"),null!==l&&l.removeClass("active").attr("style","")}setTimeout(function(){i.settings.toggled=!1},300),r.callback()},resize:function(){var e=t("[data-section]"),i=Foundation.libs.section;e.each(function(){var e=t(this),n=e.find("section.active, .section.active");if(t.extend({},i.settings,i.data_options(e)),n.length>1)n.not(":first").removeClass("active").attr("style","");else if(1>n.length&&!i.is_vertical(e)&&!i.is_horizontal(e)&&!i.is_accordion(e)){var s=e.find("section, .section").first();s.addClass("active"),i.small(e)?s.attr("style",""):s.css("padding-top",i.outerHeight(s.find(".title")))}i.small(e)?n.attr("style",""):n.css("padding-top",i.outerHeight(n.find(".title"))),i.position_titles(e),i.is_horizontal(e)&&!i.small(e)?i.position_content(e):i.position_content(e,!1)})},is_vertical:function(t){return/vertical-nav/i.test(t.data("section"))},is_horizontal:function(t){return/horizontal-nav/i.test(t.data("section"))},is_accordion:function(t){return/accordion/i.test(t.data("section"))},is_tabs:function(t){return/tabs/i.test(t.data("section"))},set_active_from_hash:function(){var i=e.location.hash.substring(1),n=t("[data-section]"),s=this;n.each(function(){var e=t(this),n=t.extend({},s.settings,s.data_options(e));i.length>0&&n.deep_linking&&(e.find("section, .section").attr("style","").removeClass("active"),e.find('.content[data-slug="'+i+'"]').closest("section, .section").addClass("active"))})},position_titles:function(e,i){var n=e.find(".title"),s=0,a=this;"boolean"==typeof i?n.attr("style",""):n.each(function(){t(this).css("left",s),s+=a.outerWidth(t(this))})},position_content:function(e,i){var n=e.find(".title"),s=e.find(".content"),a=this;"boolean"==typeof i?(s.attr("style",""),e.attr("style","")):(e.find("section, .section").each(function(){var e=t(this).find(".title"),i=t(this).find(".content");i.css({left:e.position().left-1,top:a.outerHeight(e)-2})}),"function"==typeof Zepto?e.height(this.outerHeight(n.first())):e.height(this.outerHeight(n.first())-2))},small:function(e){return t.extend({},this.settings,this.data_options(e)),this.is_tabs(e)?!1:e&&this.is_accordion(e)?!0:t("html").hasClass("lt-ie9")?!0:t("html").hasClass("ie8compat")?!0:768>t(this.scope).width()},off:function(){t(this.scope).off(".fndtn.section"),t(e).off(".fndtn.section"),t(i).off(".fndtn.section")}}}(Foundation.zj,this,this.document),function(t,e){"use strict";Foundation.libs.tooltips={name:"tooltips",version:"4.0.2",settings:{selector:".has-tip",additionalInheritableClasses:[],tooltipClass:".tooltip",tipTemplate:function(t,e){return'<span data-selector="'+t+'" class="'+Foundation.libs.tooltips.settings.tooltipClass.substring(1)+'">'+e+'<span class="nub"></span></span>'}},cache:{},init:function(e,i,n){var s=this;return this.scope=e||this.scope,"object"==typeof i&&t.extend(!0,this.settings,i),"string"==typeof i?this[i].call(this,n):(Modernizr.touch?t(this.scope).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip","[data-tooltip]",function(e){e.preventDefault(),t(s.settings.tooltipClass).hide(),s.showOrCreateTip(t(this))}).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip",this.settings.tooltipClass,function(e){e.preventDefault(),t(this).fadeOut(150)}):t(this.scope).on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip","[data-tooltip]",function(e){var i=t(this);"mouseover"===e.type||"mouseenter"===e.type?s.showOrCreateTip(i):("mouseout"===e.type||"mouseleave"===e.type)&&s.hide(i)}),void 0)},showOrCreateTip:function(t){var e=this.getTip(t);return e&&e.length>0?this.show(t):this.create(t)},getTip:function(e){var i=this.selector(e),n=null;return i&&(n=t("span[data-selector="+i+"]"+this.settings.tooltipClass)),"object"==typeof n?n:!1},selector:function(t){var e=t.attr("id"),i=t.attr("data-tooltip")||t.attr("data-selector");return(e&&1>e.length||!e)&&"string"!=typeof i&&(i="tooltip"+Math.random().toString(36).substring(7),t.attr("data-selector",i)),e&&e.length>0?e:i},create:function(e){var i=t(this.settings.tipTemplate(this.selector(e),t("<div>").html(e.attr("title")).html())),n=this.inheritable_classes(e);i.addClass(n).appendTo("body"),Modernizr.touch&&i.append('<span class="tap-to-close">tap to close </span>'),e.removeAttr("title").attr("title",""),this.show(e)},reposition:function(i,n,s){var a,o,r,l,c;n.css("visibility","hidden").show(),a=i.data("width"),o=n.children(".nub"),r=this.outerHeight(o),l=this.outerHeight(o),c=function(t,e,i,n,s,a){return t.css({top:e?e:"auto",bottom:n?n:"auto",left:s?s:"auto",right:i?i:"auto",width:a?a:"auto"}).end()},c(n,i.offset().top+this.outerHeight(i)+10,"auto","auto",i.offset().left,a),767>t(e).width()?(c(n,i.offset().top+this.outerHeight(i)+10,"auto","auto",12.5,t(this.scope).width()),n.addClass("tip-override"),c(o,-r,"auto","auto",i.offset().left)):(c(n,i.offset().top+this.outerHeight(i)+10,"auto","auto",i.offset().left,a),n.removeClass("tip-override"),s&&s.indexOf("tip-top")>-1?c(n,i.offset().top-this.outerHeight(n),"auto","auto",i.offset().left,a).removeClass("tip-override"):s&&s.indexOf("tip-left")>-1?c(n,i.offset().top+this.outerHeight(i)/2-2.5*r,"auto","auto",i.offset().left-this.outerWidth(n)-r,a).removeClass("tip-override"):s&&s.indexOf("tip-right")>-1&&c(n,i.offset().top+this.outerHeight(i)/2-2.5*r,"auto","auto",i.offset().left+this.outerWidth(i)+r,a).removeClass("tip-override")),n.css("visibility","visible").hide()},inheritable_classes:function(e){var i=["tip-top","tip-left","tip-bottom","tip-right","noradius"].concat(this.settings.additionalInheritableClasses),n=e.attr("class"),s=n?t.map(n.split(" "),function(e){return-1!==t.inArray(e,i)?e:void 0}).join(" "):"";return t.trim(s)},show:function(t){var e=this.getTip(t);this.reposition(t,e,t.attr("class")),e.fadeIn(150)},hide:function(t){var e=this.getTip(t);e.fadeOut(150)},reload:function(){var e=t(this);return e.data("fndtn-tooltips")?e.foundationTooltips("destroy").foundationTooltips("init"):e.foundationTooltips("init")},off:function(){t(this.scope).off(".fndtn.tooltip"),t(this.settings.tooltipClass).each(function(e){t("[data-tooltip]").get(e).attr("title",t(this).text())}).remove()}}}(Foundation.zj,this,this.document),function(t,e){"use strict";Foundation.libs.topbar={name:"topbar",version:"4.0.0",settings:{index:0,stickyClass:"sticky",custom_back_text:!0,back_text:"Back",init:!1},init:function(i,n,s){var a=this;return this.scope=i||this.scope,"object"==typeof n&&t.extend(!0,this.settings,n),"string"!=typeof n?(t(".top-bar").each(function(){a.settings.$w=t(e),a.settings.$topbar=t(this),a.settings.$section=a.settings.$topbar.find("section"),a.settings.$titlebar=a.settings.$topbar.children("ul").first(),a.settings.$topbar.data("index",0);var i=t("<div class='top-bar-js-breakpoint'/>").insertAfter(a.settings.$topbar);a.settings.breakPoint=i.width(),i.remove(),a.assemble(),a.settings.$topbar.parent().hasClass("fixed")&&t("body").css("padding-top",a.outerHeight(a.settings.$topbar))}),a.settings.init||this.events(),this.settings.init):this[n].call(this,s)},events:function(){var i=this,n=this.outerHeight(t(".top-bar"));t(this.scope).on("click.fndtn.topbar",".top-bar .toggle-topbar",function(s){var a=t(this).closest(".top-bar"),o=a.find("section, .section");a.children("ul").first(),a.data("height")||i.largestUL(),s.preventDefault(),i.breakpoint()&&a.toggleClass("expanded").css("min-height",""),a.hasClass("expanded")||(o.css({left:"0%"}),o.find(">.name").css({left:"100%"}),o.find("li.moved").removeClass("moved"),a.data("index",0)),a.parent().hasClass("fixed")?(a.parent().removeClass("fixed"),t("body").css("padding-top","0"),e.scrollTo(0)):a.hasClass("fixed expanded")&&(a.parent().addClass("fixed"),t("body").css("padding-top",n))}).on("click.fndtn.topbar",".top-bar .has-dropdown>a",function(e){var n=t(this).closest(".top-bar"),s=n.find("section, .section"),a=n.children("ul").first();if((Modernizr.touch||i.breakpoint())&&e.preventDefault(),i.breakpoint()){var o=t(this),r=o.closest("li");n.data("index",n.data("index")+1),r.addClass("moved"),s.css({left:-(100*n.data("index"))+"%"}),s.find(">.name").css({left:100*n.data("index")+"%"}),o.siblings("ul").height(n.data("height")+i.outerHeight(a,!0)),n.css("min-height",n.data("height")+2*i.outerHeight(a,!0))}}),t(e).on("resize.fndtn.topbar",function(){this.breakpoint()||t(".top-bar").css("min-height","")}.bind(this)),t(this.scope).on("click.fndtn",".top-bar .has-dropdown .back",function(e){e.preventDefault();var i=t(this),n=i.closest(".top-bar"),s=n.find("section, .section"),a=i.closest("li.moved");a.parent(),n.data("index",n.data("index")-1),s.css({left:-(100*n.data("index"))+"%"}),s.find(">.name").css({left:100*n.data("index")+"%"}),0===n.data("index")&&n.css("min-height",0),setTimeout(function(){a.removeClass("moved")},300)})},breakpoint:function(){return t(e).width()<=this.settings.breakPoint||t("html").hasClass("lt-ie9")},assemble:function(){var e=this;this.settings.$section.detach(),this.settings.$section.find(".has-dropdown>a").each(function(){var i=t(this),n=i.siblings(".dropdown"),s=t('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');1==e.settings.custom_back_text?s.find("h5>a").html("&laquo; "+e.settings.back_text):s.find("h5>a").html("&laquo; "+i.html()),n.prepend(s)}),this.settings.$section.appendTo(this.settings.$topbar),this.sticky()},largestUL:function(){var e=this.settings.$topbar.find("section ul ul"),i=e.first(),n=0,s=this;e.each(function(){t(this).children("li").length>i.children("li").length&&(i=t(this))}),i.children("li").each(function(){n+=s.outerHeight(t(this),!0)}),this.settings.$topbar.data("height",n)},sticky:function(){var i="."+this.settings.stickyClass;if(t(i).length>0){var n=t(i).length?t(i).offset().top:0,s=t(e),a=this.outerHeight(t(".top-bar"));s.scroll(function(){s.scrollTop()>=n?(t(i).addClass("fixed"),t("body").css("padding-top",a)):n>s.scrollTop()&&(t(i).removeClass("fixed"),t("body").css("padding-top","0"))})}},off:function(){t(this.scope).off(".fndtn.topbar"),t(e).off(".fndtn.topbar")}}}(Foundation.zj,this,this.document),$("document").ready(function(){startClock(),addCurrentClassToCurrentProject()}),Ninja.orders(function(t){t.behavior({'input[name="authenticity_token"]':{transform:updateInputAuthenticityToken},".mizugumo_graceful_form":t.becomesAjaxLink,".fix_work_unit_button":t.submitsAsAjax(),"*[data-remote=true]":t.submitsAsAjax(),"#debug":t.suppressChangeEvents(),"#task_elapsed":t.suppressChangeEvents(),".date_entry":{transform:function(t){$(t).datepicker()}},".datetime_entry":{transform:function(t){$(t).datetimepicker()}},"#work_unit_select_all":{click:selectAllWorkUnits},".toggler":{click:function(t,e){if(window.matchMedia("(max-width: 767px)").matches){var i="#"+$(e).data("target");$(i).slideToggle("fast")}},transform:function(t){var e="#"+$(t).data("target");$(e).addClass("toggle-target")}},".work_unit_checkbox":{click:[updateWorkUnitHoursTotal,"andDoDefault"]},"#timeclock form.edit_work_unit":t.submitsAsAjax({busyElement:function(){return $("#timeclock")}}),"#timeclock form.clock_in":t.submitsAsAjax({busyElement:function(){return $("#timeclock")}}),"#messages .flash":{transform:function(t){$(t).delay(1e4).slideUp(600,function(){$(t).remove()})}},"#timeclock input#work_unit_hours":{click:function(t,e){$(e).val(hours_format(task_elapsed))}},".has_tooltip":{transform:function(t){return $(t).tooltip({tip:"#tooltip_for_"+$(t).attr("id"),offset:[-10,2],relative:!0}),t}}}),t.go()});var task_elapsed;$(function(){$(document).foundation()}),$(document).foundation();